<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>Class::Meta - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","Class-Meta",3]);
    _gaq.push(["_setCustomVar",5,"Release","Class-Meta-0.65",3]);
    _gaq.push(["_setCustomVar",3,"Module","Class::Meta",3]);
    _gaq.push(["_setCustomVar",1,"Author","DWHEELER",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?Class::Meta">permalink</a></div>
  <a href="/~dwheeler/">David E. Wheeler</a> &gt;
  <a href="/~dwheeler/Class-Meta-0.65/">Class-Meta-0.65</a> &gt;
  Class::Meta
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/de2fe609ec8ae522883ea1235f1e8792?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/D/DW/DWHEELER/Class-Meta-0.65.tar.gz">Class-Meta-0.65.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=Class%3A%3AMeta;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~DWHEELER/Class-Meta-0.65/lib/Class/Meta.pm">Annotate this POD
</a></p>
     <p style="text-align:right"><a href="http://search.cpan.org/dist/Class-Meta/">Website</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>GitHub</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>Open&nbsp;</td><td style="text-align:right"> 0</td></tr>
</table>
<a href="http://github.com/theory/class-meta/issues/">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
  Module Version:  0.65 &nbsp;
<span class="noprint">
  <a href="/src/DWHEELER/Class-Meta-0.65/lib/Class/Meta.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#USAGE'>USAGE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Data_Types'>Data Types</a>
    <li class='indexItem indexItem2'><a href='#Accessors'>Accessors</a>
    <li class='indexItem indexItem2'><a href='#Introspection_API'>Introspection API</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Class::Meta::Class'>Class::Meta::Class</a>
      <li class='indexItem indexItem3'><a href='#Class::Meta::Constructor'>Class::Meta::Constructor</a>
      <li class='indexItem indexItem3'><a href='#Class::Meta::Attribute'>Class::Meta::Attribute</a>
      <li class='indexItem indexItem3'><a href='#Class::Meta::Method'>Class::Meta::Method</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#INTERFACE'>INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Class_Methods'>Class Methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#default_error_handler'>default_error_handler</a>
      <li class='indexItem indexItem3'><a href='#handle_error'>handle_error</a>
      <li class='indexItem indexItem3'><a href='#for_key'>for_key</a>
      <li class='indexItem indexItem3'><a href='#keys'>keys</a>
      <li class='indexItem indexItem3'><a href='#clear'>clear</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Constructors'>Constructors</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#new'>new</a>
      <li class='indexItem indexItem3'><a href='#add_constructor'>add_constructor</a>
      <li class='indexItem indexItem3'><a href='#add_attribute'>add_attribute</a>
      <li class='indexItem indexItem3'><a href='#add_method'>add_method</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Instance_Methods'>Instance Methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#class'>class</a>
      <li class='indexItem indexItem3'><a href='#build'>build</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#JUSTIFICATION'>JUSTIFICATION</a>
  <li class='indexItem indexItem1'><a href='#TO_DO'>TO DO</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Class::Meta - Class automation,
introspection,
and data validation</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Generate a class:</p>

<pre class="sh_perl">  package MyApp::Thingy;
  use strict;
  use Class::Meta;

  BEGIN {

      # Create a Class::Meta object for this class.
      my $cm = Class::Meta-&#62;new(
          key          =&#62; &#39;thingy&#39;,
          default_type =&#62; &#39;string&#39;,
      );

      # Add a constructor.
      $cm-&#62;add_constructor(
          name   =&#62; &#39;new&#39;,
          create =&#62; 1,
      );

      # Add a couple of attributes with generated methods.
      $cm-&#62;add_attribute(
          name     =&#62; &#39;uuid&#39;,
          authz    =&#62; &#39;READ&#39;,
          required =&#62; 1,
          default  =&#62; sub { Data::UUID-&#62;new-&#62;create_str },
      );
      $cm-&#62;add_attribute(
          name     =&#62; &#39;name&#39;,
          is       =&#62; &#39;string&#39;,
          default  =&#62; undef,
      );
      $cm-&#62;add_attribute(
          name    =&#62; &#39;age&#39;,
          is      =&#62; &#39;integer&#39;,
          default =&#62; undef,
      );

     # Add a custom method.
      $cm-&#62;add_method(
          name =&#62; &#39;chk_pass&#39;,
          view =&#62; &#39;PUBLIC&#39;,
          code =&#62; sub { ... },
      );
  }

  sub chck_pass { ... }</pre>

<p>Or use Class::Meta::Express for a more pleasant declarative syntax (highly recommended!):</p>

<pre class="sh_perl">  package MyApp::Thingy;
  use strict;
  use Class::Meta::Express;

  class {
      meta thingy =&#62; ( default_type =&#62; &#39;string&#39; );
      ctor &#39;new&#39;;
      has  uuid =&#62; (
        authz    =&#62; &#39;READ&#39;,
        required =&#62; 1,
        deafult  =&#62; sub { Data::UUID-&#62;new-&#62;create_str },
      );
      has name =&#62; ( rquired =&#62; 1         );
      has age  =&#62; ( is      =&#62; &#39;integer&#39; );
      method chk_pass =&#62; sub { ... }
  };</pre>

<p>Now isn&#39;t that nicer? Then use the class:</p>

<pre class="sh_perl">  use MyApp::Thingy;

  my $thingy = MyApp::Thingy-&#62;new( id =&#62; 19 );
  print &#34;ID: &#34;, $thingy-&#62;id, $/;
  $thingy-&#62;name(&#39;Larry&#39;);
  print &#34;Name: &#34;, $thingy-&#62;name, $/;
  $thingy-&#62;age(42);
  print &#34;Age: &#34;, $thingy-&#62;age, $/;</pre>

<p>Or make use of the introspection API:</p>

<pre class="sh_perl">  use MyApp::Thingy;

  my $class = MyApp::Thingy-&#62;my_class;
  my $thingy;

  print &#34;Examining object of class &#34;, $class-&#62;package, $/;

  print &#34;\nConstructors:\n&#34;;
  for my $ctor ($class-&#62;constructors) {
      print &#34;  o &#34;, $ctor-&#62;name, $/;
      $thingy = $ctor-&#62;call($class-&#62;package);
  }

  print &#34;\nAttributes:\n&#34;;
  for my $attr ($class-&#62;attributes) {
      print &#34;  o &#34;, $attr-&#62;name, &#34; =&#62; &#34;, $attr-&#62;get($thingy), $/;
      if ($attr-&#62;authz &#62;= Class::Meta::SET &#38;&#38; $attr-&#62;type eq &#39;string&#39;) {
          $attr-&#62;get($thingy, &#39;hey there!&#39;);
          print &#34;    Changed to: &#34;, $attr-&#62;get($thingy), $/;
      }
  }

  print &#34;\nMethods:\n&#34;;
  for my $meth ($class-&#62;methods) {
      print &#34;  o &#34;, $meth-&#62;name, $/;
      $meth-&#62;call($thingy);
  }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Class::Meta provides an interface for automating the creation of Perl classes with attribute data type validation. It differs from other such modules in that it includes an introspection API that can be used as a unified interface for all Class::Meta-generated classes. In this sense, it is an implementation of the &#34;Facade&#34; design pattern.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USAGE"
>USAGE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Before we get to the introspection API, let&#39;s take a look at how to create classes with Class::Meta. Unlike many class automation modules for Perl, the classes that Class::Meta builds do not inherit from Class::Meta. This frees you from any dependencies on the interfaces that such a base class might compel. For example, you can create whatever constructors you like, and name them whatever you like.</p>

<p>First of all, you really want to be using <a href="/perldoc?Class%3A%3AMeta%3A%3AExpress" class="podlinkpod"
>Class::Meta::Express</a> to declare your Class::Meta classes. It provides a much more pleasant class declaration experience than Class::Meta itself does. But since its functions support many of the same arguments as the declaration methods described here, it&#39;s worth it to skim the notes here, as well. Or if you&#39;re just a masochist and want to use the Class::Meta interface itself, well, read on!</p>

<p>I recommend that you create your Class::Meta classes in a <code>BEGIN</code> block. Although this is not strictly necessary, it helps to ensure that the classes you&#39;re building are completely constructed and ready to go by the time compilation has completed. Creating classes with Class::Meta is easy, using the Class::Meta object oriented interface. Here is an example of a very simple class:</p>

<pre class="sh_perl">  package MyApp::Dog;
  use strict;
  use Class::Meta;
  use Class::Meta::Types::Perl;

  BEGIN {

      # Create a Class::Meta object for this class.
      my $cm = Class::Meta-&#62;new( key =&#62; &#39;dog&#39; );

      # Add a constructor.
      $cm-&#62;add_constructor(
          name   =&#62; &#39;new&#39;,
          create =&#62; 1,
      );

      # Add an attribute.
      $cm-&#62;add_attribute(
          name =&#62; &#39;tail&#39;,
          type =&#62; &#39;scalar&#39;,
      );

      # Add a custom method.
      $cm-&#62;add_method( name =&#62; &#39;wag&#39; );
      $cm-&#62;build;
  }

  sub wag {
      my $self = shift;
      print &#34;Wagging &#34;, $self-&#62;tail;
  }</pre>

<p>This simple example shows of the construction of all three types of objects supported by Class::Meta: constructors, attributes, and methods. Here&#39;s how it does it:</p>

<ul>
<li>First we load Class::Meta and Class::Meta::Types::Perl. The latter module creates data types that can be used for attributes, including a &#34;scalar&#34; data type.</li>

<li>Second, we create a Class::Meta object. It&#39;s okay to create it within the <code>BEGIN</code> block, as it won&#39;t be needed beyond that. All Class::Meta classes have a <code>key</code> that uniquely identifies them across an application. If none is provided, the class name will be used, instead.</li>

<li>Next, we create a Class::Meta::Constructor object to describe a constructor method for the class. The <code>create</code> parameter to the <code>add_constructor()</code> method tells Class::Meta to create the constructor named &#34;<code>new()</code>&#34;.</li>

<li>Then we call <code>add_attribute()</code> to create a single attribute, &#34;tail&#34;. This is a simple scalar attribute, meaning that any scalar value can be stored in it. Class::Meta will create a Class::Meta::Attribute object that describes this attribute, and will also shortly create accessor methods for the attribute.</li>

<li>The <code>add_method()</code> method constructs a Class::Meta::Method object to describe any methods written for the class. In this case, we&#39;ve told Class::Meta that there will be a <code>wag()</code> method.</li>

<li>And finally, we tell Class::Meta to build the class. This is the point at which all constructors and accessor methods will be created in the class. In this case, these include the <code>new()</code> constructor and a <code>tail()</code> accessor for the &#34;tail&#34; attribute. And finally, Class::Meta will install another method, <code>my_class()</code>. This method will return a Class::Meta::Class object that describes the class, and provides the complete introspection API.</li>
</ul>

<p>Thus, the class the above code creates has this interface:</p>

<pre class="sh_perl">  sub my_class;
  sub new;
  sub tail;
  sub wag;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Data_Types"
>Data Types</a></h2>

<p>By default, Class::Meta loads no data types. If you attempt to create an attribute without creating or loading the appropriate data type, you will get an error.</p>

<p>But I didn&#39;t want to leave you out in the cold, so I created a whole bunch of data types to get you started. Any of these will automatically be loaded by Class::Meta if it is used to create an attribute. They can also be loaded simply by <code>use</code>ing the appropriate module. The modules are:</p>

<dl>
<dt><a name='Class'></a><a name="Class::Meta::Types::Perl"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/Perl.pm" class="podlinkpod"
>Class::Meta::Types::Perl</a></a></dt>

<dd>
<p>Typical Perl data types.</p>

<dl>
<dt><a name="scalar"
>scalar</a></dt>

<dd>
<p>Any scalar value.</p>

<dt><a name="scalarref"
>scalarref</a></dt>

<dd>
<p>A scalar reference.</p>

<dt><a name="array"
>array</a></dt>

<dd>
<dt><a name="arrayref"
>arrayref</a></dt>

<dd>
<p>An array reference.</p>

<dt><a name="hash"
>hash</a></dt>

<dd>
<dt><a name="hashref"
>hashref</a></dt>

<dd>
<p>A hash reference.</p>

<dt><a name="code"
>code</a></dt>

<dd>
<dt><a name="coderef"
>coderef</a></dt>

<dd>
<dt><a name="closure"
>closure</a></dt>

<dd>
<p>A code reference.</p>
</dd>
</dl>

<dt><a name='Class'></a><a name="Class::Meta::Types::String"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/String.pm" class="podlinkpod"
>Class::Meta::Types::String</a></a></dt>

<dd>
<dl>
<dt><a name="string"
>string</a></dt>

<dd>
<p>Attributes of this type must contain a string value. Essentially, this means anything other than a reference.</p>
</dd>
</dl>

<dt><a name='Class'></a><a name="Class::Meta::Types::Boolean"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/Boolean.pm" class="podlinkpod"
>Class::Meta::Types::Boolean</a></a></dt>

<dd>
<dl>
<dt><a name="boolean"
>boolean</a></dt>

<dd>
<dt><a name="bool"
>bool</a></dt>

<dd>
<p>Attributes of this type store a boolean value. Implementation-wise, this means either a 1 or a 0.</p>
</dd>
</dl>

<dt><a name='Class'></a><a name="Class::Meta::Types::Numeric"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/Numeric.pm" class="podlinkpod"
>Class::Meta::Types::Numeric</a></a></dt>

<dd>
<p>These data types are validated by the functions provided by <a href="/perldoc?Data%3A%3ATypes" class="podlinkpod"
>Data::Types</a>.</p>

<dl>
<dt><a name="whole"
>whole</a></dt>

<dd>
<p>A whole number.</p>

<dt><a name="integer"
>integer</a></dt>

<dd>
<p>An integer.</p>

<dt><a name="decimal"
>decimal</a></dt>

<dd>
<p>A decimal number.</p>

<dt><a name="real"
>real</a></dt>

<dd>
<p>A real number.</p>

<dt><a name="float"
>float</a></dt>

<dd>
<p>a floating point number.</p>
</dd>
</dl>
</dd>
</dl>

<p>Other data types may be added in the future. See the individual data type modules for more information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Accessors"
>Accessors</a></h2>

<p>Class::Meta supports the creation of three different types of attribute accessors: typical Perl single-method accessors, &#34;affordance&#34; accessors, and &#34;semi-affordance&#34; accessors. The single accessors are named for their attributes, and typically tend to look like this:</p>

<pre class="sh_perl">  sub tail {
      my $self = shift;
      return $self-&#62;{tail} unless @_;
      return $self-&#62;{tail} = shift;
  }</pre>

<p>Although this can be an oversimplification if the data type has associated validation checks.</p>

<p>Affordance accessors provide at up to two accessors for every attribute: One to set the value and one to retrieve the value. They tend to look like this:</p>

<pre class="sh_perl">  sub get_tail { shift-&#62;{tail} }

  sub set_tail { shift-&#62;{tail} = shift }</pre>

<p>These accessors offer a bit less overhead than the traditional Perl accessors, in that they don&#39;t have to check whether they&#39;re called to get or set a value. They also have the benefit of creating a psychological barrier to misuse. Since traditional Perl accessors <i>can</i> be created as read-only or write-only accessors, one can&#39;t tell just by looking at them which is the case. The affordance accessors make this point moot, as they make clear what their purpose is.</p>

<p>Semi-affordance accessors are similar to affordance accessors in that they provide at least two accessors for every attribute. However, the accessor that fetches the value is named for the attribute. Thus, they tend to look like this:</p>

<pre class="sh_perl">  sub tail { shift-&#62;{tail} }

  sub set_tail { shift-&#62;{tail} = shift }</pre>

<p>To get Class::Meta&#39;s data types to create affordance accessors, simply pass the string &#34;affordance&#34; to them when you load them:</p>

<pre class="sh_perl">  use Class::Meta::Types::Perl &#39;affordance&#39;;</pre>

<p>Likewise, to get them to create semi-affordance accessors, pass the string &#34;semi-affordance&#34;:</p>

<pre class="sh_perl">  use Class::Meta::Types::Perl &#39;semi-affordance&#39;;</pre>

<p>The boolean data type is the only one that uses a slightly different approach to the creation of affordance accessors: It creates three of them. Assuming you&#39;re creating a boolean attribute named &#34;alive&#34;, it will create these accessors:</p>

<pre class="sh_perl">  sub is_alive      { shift-&#62;{alive} }
  sub set_alive_on  { shift-&#62;{alive} = 1 }
  sub set_alive_off { shift-&#62;{alive} = 0 }</pre>

<p>Incidentally, I stole the term &#34;affordance&#34; from Damian Conway&#39;s &#34;Object Oriented Perl,&#34; pp 83-84, where he borrows it from Donald Norman.</p>

<p>See <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Type.pm" class="podlinkpod"
>Class::Meta::Type</a> for details on creating new data types.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Introspection_API"
>Introspection API</a></h2>

<p>Class::Meta provides four classes the make up the introspection API for Class::Meta-generated classes. Those classes are:</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Class::Meta::Class"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Class.pm" class="podlinkpod"
>Class::Meta::Class</a></a></h3>

<p>Describes the class. Each Class::Meta-generated class has a single constructor object that can be retrieved by calling a class&#39; <code>my_class()</code> class method. Using the Class::Meta::Class object, you can get access to all of the other objects that describe the class. The relevant methods are:</p>

<dl>
<dt><a name="constructors"
>constructors</a></dt>

<dd>
<p>Provides access to all of the Class::Meta::Constructor objects that describe the class&#39; constructors, and provide indirect access to those constructors.</p>

<dt><a name="attributes"
>attributes</a></dt>

<dd>
<p>Provides access to all of the Class::Meta::Attribute objects that describe the class&#39; attributes, and provide methods for indirectly getting and setting their values.</p>

<dt><a name="methods"
>methods</a></dt>

<dd>
<p>Provides access to all of the Class::Meta::Method objects that describe the class&#39; methods, and provide indirect execution of those constructors.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Class::Meta::Constructor"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Constructor.pm" class="podlinkpod"
>Class::Meta::Constructor</a></a></h3>

<p>Describes a class constructor. Typically a class will have only a single constructor, but there could be more, and client code doesn&#39;t necessarily know its name. Class::Meta::Constructor objects resolve these issues by describing all of the constructors in a class. The most useful methods are:</p>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>Returns the name of the constructor, such as &#34;new&#34;.</p>

<dt><a name="call"
>call</a></dt>

<dd>
<p>Calls the constructor on an object, passing in the arguments passed to <code>call()</code> itself.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Class::Meta::Attribute"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Attribute.pm" class="podlinkpod"
>Class::Meta::Attribute</a></a></h3>

<p>Describes a class attribute, including its name and data type. Attribute objects are perhaps the most useful Class::Meta objects, in that they can provide a great deal of information about the structure of a class. The most interesting methods are:</p>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>Returns the name of the attribute.</p>

<dt><a name="type"
>type</a></dt>

<dd>
<p>Returns the name of the attribute&#39;s data type.</p>

<dt><a name="required"
>required</a></dt>

<dd>
<p>Returns true if the attribute is required to have a value.</p>

<dt><a name="once"
>once</a></dt>

<dd>
<p>Returns true if the attribute value can be set to a defined value only once.</p>

<dt><a name="set"
>set</a></dt>

<dd>
<p>Sets the value of an attribute on an object.</p>

<dt><a name="get"
>get</a></dt>

<dd>
<p>Returns the value of an attribute on an object.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Class::Meta::Method"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Method.pm" class="podlinkpod"
>Class::Meta::Method</a></a></h3>

<p>Describes a method of a class, including its name and context (class vs. instance). The relevant methods are:</p>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>The method name.</p>

<dt><a name="context"
>context</a></dt>

<dd>
<p>The context of the method indicated by a value corresponding to either Class::Meta::OBJECT or Class::Meta::CLASS.</p>

<dt><a name="call"
>call</a></dt>

<dd>
<p>Calls the method, passing in the arguments passed to <code>call()</code> itself.</p>
</dd>
</dl>

<p>Consult the documentation of the individual classes for a complete description of their interfaces.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INTERFACE"
>INTERFACE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Class_Methods"
>Class Methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="default_error_handler"
>default_error_handler</a></h3>

<pre class="sh_perl">  Class::Meta-&#62;default_error_handler($code);
  my $default_error_handler = Class::Meta-&#62;default_error_handler;</pre>

<p>Sets the default error handler for Class::Meta classes. If no <code>error_handler</code> attribute is passed to new, then this error handler will be associated with the new class. The default default error handler uses <code>Carp::croak()</code> to handle errors.</p>

<p>Note that if other modules are using Class::Meta that they will use your default error handler unless you reset the default error handler to its original value before loading them.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="handle_error"
>handle_error</a></h3>

<pre class="sh_perl">  Class::Meta-&#62;handle_error($err);</pre>

<p>Uses the code reference returned by <code>default_error_handler()</code> to handle an error. Used internally Class::Meta classes when no Class::Meta::Class object is available. Probably not useful outside of Class::Meta unless you&#39;re creating your own accessor generation class. Use the <code>handle_error()</code> instance method in Class::Meta::Class, instead.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="for_key"
>for_key</a></h3>

<pre class="sh_perl">  my $class = Class::Meta-&#62;for_key($key);</pre>

<p>Returns the Class::Meta::Class object for a class by its key name. This can be useful in circumstances where the key has been used to track a class, and you need to get a handle on that class. With the class package name, you can of course simply call <code>$pkg-&#62;my_class</code>; this method is the solution for getting the class object for a class key.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="keys"
>keys</a></h3>

<pre class="sh_perl">  my @keys = Class::Meta-&#62;keys;</pre>

<p>Returns the keys for all Class::Meta::Class objects. The order of keys is not guaranteed. In scalar context, this method returns an array reference containing the keys.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="clear"
>clear</a></h3>

<pre class="sh_perl">  Class::Meta-&#62;clear;
  Class::Meta-&#62;clear($key);</pre>

<p>Called without arguments, <code>clear</code> will remove all <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Class.pm" class="podlinkpod"
>Class::Meta::Class</a> objects from memory. Called with an argument, <code>clear</code> attempts to remove only that key from memory. Calling it with a non-existent key is a no-op.</p>

<p>In general, you probably won&#39;t want to use this method, except perhaps in tests, when you might need to do funky things with your classes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Constructors"
>Constructors</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h3>

<pre class="sh_perl">  my $cm = Class::Meta-&#62;new( key =&#62; $key );</pre>

<p>Constructs and returns a new Class::Meta object that can then be used to define and build the complete interface of a class. Many of the supported parameters values will default to values specified for the most immediate Class::Meta-built parent class, if any. The supported parameters are:</p>

<dl>
<dt><a name="package"
>package</a></dt>

<dd>
<p>The package that defines the class. Defaults to the package of the code that calls <code>new()</code>.</p>

<dt><a name="key"
>key</a></dt>

<dd>
<p>A key name that uniquely identifies a class within an application. Defaults to the value of the <code>package</code> parameter if not specified.</p>

<dt><a name="name"
>name</a></dt>

<dd>
<p>The human name to use for the class. Defaults to the value of <code>key</code> with underscores replaced with spaces and each word capitalized by the <code>ucfirst</code> operator. So &#34;foo&#34; will become &#34;Foo&#34; and &#34;contact_type&#34; will become &#34;Contact Type&#34;.</p>

<dt><a name="abstract"
>abstract</a></dt>

<dd>
<p>A boolean indicating whether the class being defined is an abstract class. An abstract class, also known as a &#34;virtual&#34; class, is not intended to be used directly. No objects of an abstract class should every be created. Instead, classes that inherit from an abstract class must be implemented.</p>

<dt><a name="default_type"
>default_type</a></dt>

<dd>
<p>A data type to use for attributes added to the class with no explicit data type. See <a href="#Data_Types" class="podlinkpod"
>&#34;Data Types&#34;</a> for some possible values for this parameter. Inheritable from parent class.</p>

<dt><a name="trust"
>trust</a></dt>

<dd>
<p>An array reference of key names or packages that are trusted by the class.</p>

<pre class="sh_perl">  trust =&#62; [&#39;Foo::Bar&#39;, &#39;Foo::Bat&#39;],</pre>

<p>Trusted packages and the classes that inherit from them can retrieve trusted attributes and methods of the class. Trusted packages need not be Class::Meta classes. Trusted classes do not include the declaring class by default, so if you want the class that declares an attribute to be able to use trusted attribute accessors, be sure to include it in the list of trusted packages:</p>

<pre class="sh_perl">  trust =&#62; [__PACKAGE__, &#39;Foo::Bar&#39;, &#39;Foo::Bat&#39;],</pre>

<p>If you need to trust a single class, you may pass in the key name or package of that class rather than an array reference:</p>

<pre class="sh_perl">  trust =&#62; &#39;Foo::Bar&#39;,</pre>

<dt><a name="class_class"
>class_class</a></dt>

<dd>
<p>The name of a class that inherits from Class::Meta::Class to be used to create all of the class objects for the class. Defaults to Class::Meta::Class. Inheritable from parent class.</p>

<dt><a name="constructor_class"
>constructor_class</a></dt>

<dd>
<p>The name of a class that inherits from Class::Meta::Constructor to be used to create all of the constructor objects for the class. Defaults to Class::Meta::Constructor. Inheritable from parent class.</p>

<dt><a name="attribute_class"
>attribute_class</a></dt>

<dd>
<p>The name of a class that inherits from Class::Meta::Attribute to be used to create all of the attribute objects for the class. Defaults to Class::Meta::Attribute. Inheritable from parent class.</p>

<dt><a name="method_class"
>method_class</a></dt>

<dd>
<p>The name of a class that inherits from Class::Meta::Method to be used to create all of the method objects for the class. Defaults to Class::Meta::Method. Inheritable from parent class.</p>

<dt><a name="error_handler"
>error_handler</a></dt>

<dd>
<p>A code reference that will be used to handle errors thrown by the methods created for the new class. Defaults to the value returned by <code>Class::Meta-&#62;default_error_handler</code>. Inheritable from parent class.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="add_constructor"
>add_constructor</a></h3>

<pre class="sh_perl">  $cm-&#62;add_constructor(
      name   =&#62; &#39;construct&#39;,
      create =&#62; 1,
  );</pre>

<p>Creates and returns a Class::Meta::Constructor object that describes a constructor for the class. The supported parameters are:</p>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>The name of the constructor. The name must consist of only alphanumeric characters or &#34;_&#34;. Required.</p>

<dt><a name="create"
>create</a></dt>

<dd>
<p>When true, Class::Meta::Constructor will automatically create and install a constructor named for the <code>name</code> parameter. Defaults to true unless <code>code</code> is passed. In general you won&#39;t need to specify this parameter unless you&#39;ve written your own constructor in the package, in which case you&#39;ll want to specify <code>create =&#62; 0</code>.</p>

<dt><a name="label"
>label</a></dt>

<dd>
<p>A label for the constructor. Generally used for displaying its name in a user interface. Optional.</p>

<dt><a name="desc"
>desc</a></dt>

<dd>
<p>A description of the constructor. Possibly useful for displaying help text in a user interface. Optional.</p>

<dt><a name="code"
>code</a></dt>

<dd>
<p>You can implicitly define the constructor in your class by passing a code reference via the <code>code</code> parameter. Once <code>build()</code> is called, <a href="/perldoc?Kinetic%3A%3AMeta%3A%3AConstructor" class="podlinkpod"
>Kinetic::Meta::Constructor</a> will install the constructor into the package for which the Class::Meta object was defined, and with the name specified via the <code>name</code> parameter. Note that if the constructor view is PRIVATE or PROTECTED, the constructor will be wrapped in extra code to constrain the view. Optional.</p>

<dt><a name="view"
>view</a></dt>

<dd>
<p>The visibility of the constructor. The possible values are defined by the following constants:</p>

<dl>
<dt><a name='Class'></a><a name="Class::Meta::PUBLIC"
>Class::Meta::PUBLIC</a></dt>

<dd>
<p>Can be used by any client.</p>

<dt><a name='Class'></a><a name="Class::Meta::PRIVATE"
>Class::Meta::PRIVATE</a></dt>

<dd>
<p>Can only be used by the declaring class.</p>

<dt><a name='Class'></a><a name="Class::Meta::TRUSTED"
>Class::Meta::TRUSTED</a></dt>

<dd>
<p>Can only be used by the classes specified by the <code>trust</code> parameter to <code>new()</code>.</p>

<dt><a name='Class'></a><a name="Class::Meta::PROTECTED"
>Class::Meta::PROTECTED</a></dt>

<dd>
<p>Can only be used by the declaring class or by classes that inherit from it.</p>
</dd>
</dl>

<p>Defaults to Class::Meta::PUBLIC if not defined. You can also use strings aliases to the above constants, although the constant values will actually be stored in the <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Constructor.pm" class="podlinkpod"
>Class::Meta::Constructor</a> object, rather than the string. The supported strings are &#34;PUBLIC&#34;, &#34;PRIVATE&#34;, &#34;TRUSTED&#34;, and &#34;PROTECTED&#34;.</p>

<dt><a name="caller"
>caller</a></dt>

<dd>
<p>A code reference that calls the constructor. Defaults to a code reference that calls a method with the name provided by the <code>name</code> attribute on the class being defined.</p>
</dd>
</dl>

<p>If Class::Meta creates the constructor, it will be a simple parameter-list constructor, wherein attribute values can be passed as a list of attribute-name/value pairs, e.g.:</p>

<pre class="sh_perl">  my $thingy = MyApp::Thingy-&#62;new(
      name =&#62; &#39;Larry&#39;,
      age  =&#62; 32,
  );</pre>

<p>Required attributes must have a value passed to the constructor, with one exception: You can pass an optional subroutine reference as the last argument to the constructor. After all parameter values and default values have been set on the object, but before any exceptions are thrown for undefined required attributes, the constructor will execute this subroutine reference, passing in the object being constructed as the sole argument. So, for example, if <code>name</code> is required but, for some reason, could not be set before constructing the object, you could set it like so:</p>

<pre class="sh_perl">  my $thingy = MyApp::Thingy-&#62;new(
      age  =&#62; 32,
      sub {
          my $thingy = shift;
          # age and attributes with default values are already set.
          my $name = calculate_name( $thingy );
          $thingy-&#62;name($name);
      },
  );</pre>

<p>This allows developers to have a scope-limited context in which to work before required constraints are enforced.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="add_attribute"
>add_attribute</a></h3>

<pre class="sh_perl">  $cm-&#62;add_attribute(
      name =&#62; &#39;tail&#39;,
      type =&#62; &#39;scalar&#39;,
  );</pre>

<p>Creates and returns a Class::Meta::Attribute object that describes an attribute of the class. The supported parameters are:</p>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>The name of the attribute. The name must consist of only alphanumeric characters or &#34;_&#34;. Required.</p>

<dt><a name="type"
>type</a></dt>

<dd>
<dt><a name="is"
>is</a></dt>

<dd>
<p>The data type of the attribute. See <a href="#Data_Types" class="podlinkpod"
>&#34;Data Types&#34;</a> for some possible values for this parameter. If the type name corresponds to a data type in a package in the Class::Meta::Types name space, that package will automatically be loaded and configured with Perl-style accessors, so that the data type can simply be used. If both <code>type</code> and <code>is</code> are passed, <code>is</code> will be used. Required unless the class was declared with a <code>default_type</code>.</p>

<dt><a name="required"
>required</a></dt>

<dd>
<p>A boolean value indicating whether the attribute is required to have a value. Defaults to false.</p>

<dt><a name="once"
>once</a></dt>

<dd>
<p>A boolean value indicating whether the attribute can be set to a defined value only once. Defaults to false.</p>

<dt><a name="label"
>label</a></dt>

<dd>
<p>A label for the attribute. Generally used for displaying its name in a user interface. Optional.</p>

<dt><a name="desc"
>desc</a></dt>

<dd>
<p>A description of the attribute. Possibly useful for displaying help text in a user interface. Optional.</p>

<dt><a name="view"
>view</a></dt>

<dd>
<p>The visibility of the attribute. See the description of the <code>view</code> parameter to <code>add_constructor</code> for a description of its value.</p>

<dt><a name="authz"
>authz</a></dt>

<dd>
<p>The authorization of the attribute. This value indicates whether it is read-only, write-only, read/write, or inaccessible. The possible values are defined by the following constants:</p>

<dl>
<dt><a name='Class'></a><a name="Class::Meta::READ"
>Class::Meta::READ</a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::WRITE"
>Class::Meta::WRITE</a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::RDWR"
>Class::Meta::RDWR</a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::NONE"
>Class::Meta::NONE</a></dt>
</dl>

<p>Defaults to Class::Meta::RDWR if not defined. You can also use strings aliases to the above constants, although the constant values will actually be stored in the <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Attribute.pm" class="podlinkpod"
>Class::Meta::Attribute</a> object, rather than the string. The supported strings are &#34;READ&#34;, &#34;WRITE&#34;, &#34;RDWR&#34;, and &#34;NONE&#34;.</p>

<dt><a name="create"
>create</a></dt>

<dd>
<p>Indicates what type of accessor or accessors are to be created for the attribute.</p>

<dl>
<dt><a name='Class'></a><a name="Class::Meta::GET"
>Class::Meta::GET</a></dt>

<dd>
<p>Create read-only accessor(s).</p>

<dt><a name='Class'></a><a name="Class::Meta::SET"
>Class::Meta::SET</a></dt>

<dd>
<p>Create write-only accessor(s).</p>

<dt><a name='Class'></a><a name="Class::Meta::GETSET"
>Class::Meta::GETSET</a></dt>

<dd>
<p>Create read/write accessor(s).</p>

<dt><a name='Class'></a><a name="Class::Meta::NONE"
>Class::Meta::NONE</a></dt>

<dd>
<p>Create no accessors.</p>
</dd>
</dl>

<p>You can also use strings aliases to the above constants, although the constant values will actually be stored in the <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Attribute.pm" class="podlinkpod"
>Class::Meta::Attribute</a> object, rather than the string. The supported strings are &#34;GET&#34;, &#34;SET&#34;, &#34;GETSET&#34;, and &#34;NONE&#34;.</p>

<p>If not unspecified, the value of the <code>create</code> parameter will correspond to the value of the <code>authz</code> parameter like so:</p>

<pre class="sh_perl">  authz       create
  ------------------
  READ   =&#62;   GET
  WRITE  =&#62;   SET
  RDWR   =&#62;   GETSET
  NONE   =&#62;   NONE</pre>

<p>The <code>create</code> parameter differs from the <code>authz</code> parameter in case you&#39;ve taken it upon yourself to create some accessors, and therefore don&#39;t need Class::Meta to do so. For example, if you were using standard Perl-style accessors, and needed to do something a little different by coding your own accessor, you&#39;d specify it like this:</p>

<pre class="sh_perl">  $cm-&#62;add_attribute(
      name   =&#62; $name,
      type   =&#62; $type,
      authz  =&#62; Class::Meta::RDWR,
      create =&#62; Class::Meta::NONE
  );</pre>

<p>Just be sure that your custom accessor compiles before you call <code>$cm-&#62;build</code> so that Class::Meta::Attribute can get a handle on it for its <code>get()</code> and/or <code>set()</code> methods.</p>

<dt><a name="context"
>context</a></dt>

<dd>
<p>The context of the attribute. This indicates whether it&#39;s a class attribute or an object attribute. The possible values are defined by the following constants:</p>

<dl>
<dt><a name='Class'></a><a name="Class::Meta::CLASS"
>Class::Meta::CLASS</a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::OBJECT"
>Class::Meta::OBJECT</a></dt>
</dl>

<p>You can also use strings aliases to the above constants, although the constant values will actually be stored in the <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Attribute.pm" class="podlinkpod"
>Class::Meta::Attribute</a> object, rather than the string. The supported strings are &#34;CLASS&#34;, and &#34;OBJECT&#34;.</p>

<dt><a name="default"
>default</a></dt>

<dd>
<p>The default value for the attribute, if any. This may be either a literal value or a code reference that will be executed to generate a default value.</p>

<dt><a name="override"
>override</a></dt>

<dd>
<p>If an attribute being added to a class has the same name as an attribute in a parent class, Class::Meta will normally throw an exception. However, in some cases you might want to override an attribute in a parent class to change its properties. In such a case, pass a true value to the <code>override</code> parameter to override the attribute and avoid the exception.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="add_method"
>add_method</a></h3>

<pre class="sh_perl">  $cm-&#62;add_method( name =&#62; &#39;wag&#39; );</pre>

<p>Creates and returns a Class::Meta::Method object that describes a method of the class. The supported parameters are:</p>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>The name of the method. The name must consist of only alphanumeric characters or &#34;_&#34;.</p>

<dt><a name="label"
>label</a></dt>

<dd>
<p>A label for the method. Generally used for displaying its name in a user interface. Optional.</p>

<dt><a name="desc"
>desc</a></dt>

<dd>
<p>A description of the method. Possibly useful for displaying help text in a user interface. Optional.</p>

<dt><a name="view"
>view</a></dt>

<dd>
<p>The visibility of the method. See the description of the <code>view</code> parameter to <code>add_constructor</code> for a description of its value. Class::Meta only enforces the <code>view</code> if the <code>code</code> parameter is used to define the method body. Otherwise, it&#39;s up to the class implementation itself to do the job.</p>

<dt><a name="code"
>code</a></dt>

<dd>
<p>You can implicitly define the method in your class by passing a code reference via the <code>code</code> parameter. Once <code>build()</code> is called, <a href="/perldoc?Kinetic%3A%3AMeta%3A%3AMethod" class="podlinkpod"
>Kinetic::Meta::Method</a> will install the method into the package for which the Class::Meta object was defined, and with the name specified via the <code>name</code> parameter. If the <code>view</code> is anything other than PUBLIC, it will be enforced.</p>

<dt><a name="context"
>context</a></dt>

<dd>
<p>The context of the method. This indicates whether it&#39;s a class method or an object method. See the description of the <code>context</code> parameter to <code>add_attribute</code> for a description of its value.</p>

<dt><a name="caller"
>caller</a></dt>

<dd>
<p>A code reference that calls the method. This code reference will be be used by the <code>call()</code> method of <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Method.pm" class="podlinkpod"
>Class::Meta::Method</a> to execute the method on behalf of an object. Defaults to a code reference that calls a method with the name provided by the <code>name</code> attribute on the class being defined.</p>

<dt><a name="args"
>args</a></dt>

<dd>
<p>A description of the arguments to the method. This can be anything you like, but I recommend something like a string for a single argument, an array reference for a list of arguments, or a hash reference for parameter arguments.</p>

<dt><a name="returns"
>returns</a></dt>

<dd>
<p>A string describing the return value or values of the method.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Instance_Methods"
>Instance Methods</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="class"
>class</a></h3>

<pre class="sh_perl">  my $class = $cm-&#62;class;</pre>

<p>Returns the instance of the Class::Meta::Class object that will be used to provide the introspection API for the class being generated.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="build"
>build</a></h3>

<pre class="sh_perl">  $cm-&#62;build;</pre>

<p>Builds the class defined by the Class::Meta object, including the <code>my_class()</code> class method, and all requisite constructors and accessors.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="JUSTIFICATION"
>JUSTIFICATION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>One might argue that there are already too many class automation and parameter validation modules on CPAN. And one would be right. They range from simple accessor generators, such as <a href="/perldoc?Class%3A%3AAccessor" class="podlinkpod"
>Class::Accessor</a>, to simple parameter validators, such as <a href="/perldoc?Params%3A%3AValidate" class="podlinkpod"
>Params::Validate</a>, to more comprehensive systems, such as <a href="/perldoc?Class%3A%3AContract" class="podlinkpod"
>Class::Contract</a> and <a href="/perldoc?Class%3A%3ATangram" class="podlinkpod"
>Class::Tangram</a>. But, naturally, none of them could do exactly what I needed.</p>

<p>What I needed was an implementation of the &#34;Facade&#34; design pattern. Okay, this isn&#39;t a facade like the &#34;Gang of Four&#34; meant it, but it is in the respect that it creates classes with a common API so that objects of these classes can all be used identically, calling the same methods on each. This is done via the implementation of an introspection API. So the process of creating classes with Class::Meta not only creates attributes and accessors, but also creates objects that describe those classes. Using these descriptive objects, client applications can determine what to do with objects of Class::Meta-generated classes. This is particularly useful for user interface code.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TO_DO"
>TO DO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<ul>
<li>Add support for an <code>accessor</code> parameter to <code>add_attribute()</code> that will be used for the accessor instead of generating one.</li>

<li>Make class attribute accessors behave as they do in Class::Data::Inheritable.</li>

<li>Modify class attribute accessors so that they are thread safe. This will involve sharing the attributes across threads, and locking them before changing their values. If they&#39;ve also been made to behave as they do in Class::Data::Inheritable, we&#39;ll have to figure out a way to make it so that newly generated accessors for subclasses are shared between threads, too. This may not be easy.</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module is stored in an open <a href="http://github.com/theory/class-meta/" class="podlinkurl"
>GitHub repository</a>. Feel free to fork and contribute!</p>

<p>Please file bug reports via <a href="http://github.com/theory/class-meta/issues/" class="podlinkurl"
>GitHub Issues</a> or by sending mail to <a href="mailto:bug-Class-Meta.cpan.org" class="podlinkurl"
>bug-Class-Meta.cpan.org</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>David E. Wheeler &#60;david@justatheory.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>First of all, use <a href="/perldoc?Class%3A%3AMeta%3A%3AExpress" class="podlinkpod"
>Class::Meta::Express</a> instead of <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta.pm" class="podlinkpod"
>Class::Meta</a> to declare your classes. I hope I&#39;ve made that clear enough by now.</p>

<p>Other classes of interest within the <a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta.pm" class="podlinkpod"
>Class::Meta</a> distribution include:</p>

<dl>
<dt><a name='Class'></a><a name="Class::Meta::Class"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Class.pm" class="podlinkpod"
>Class::Meta::Class</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Constructor"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Constructor.pm" class="podlinkpod"
>Class::Meta::Constructor</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Attribute"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Attribute.pm" class="podlinkpod"
>Class::Meta::Attribute</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Method"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Method.pm" class="podlinkpod"
>Class::Meta::Method</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Type"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Type.pm" class="podlinkpod"
>Class::Meta::Type</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Types::Perl"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/Perl.pm" class="podlinkpod"
>Class::Meta::Types::Perl</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Types::String"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/String.pm" class="podlinkpod"
>Class::Meta::Types::String</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Types::Boolean"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/Boolean.pm" class="podlinkpod"
>Class::Meta::Types::Boolean</a></a></dt>

<dd>
<dt><a name='Class'></a><a name="Class::Meta::Types::Numeric"
><a href="/~dwheeler/Class-Meta-0.65/lib/Class/Meta/Types/Numeric.pm" class="podlinkpod"
>Class::Meta::Types::Numeric</a></a></dt>
</dl>

<p>For comparative purposes, you might also want to check out these fine modules:</p>

<dl>
<dt><a name='Class'></a><a name="Class::Accessor"
><a href="/perldoc?Class%3A%3AAccessor" class="podlinkpod"
>Class::Accessor</a></a></dt>

<dd>
<p>Accessor and constructor automation.</p>

<dt><a name='Params'></a><a name="Params::Validate"
><a href="/perldoc?Params%3A%3AValidate" class="podlinkpod"
>Params::Validate</a></a></dt>

<dd>
<p>Parameter validation.</p>

<dt><a name='Class'></a><a name="Class::Contract"
><a href="/perldoc?Class%3A%3AContract" class="podlinkpod"
>Class::Contract</a></a></dt>

<dd>
<p>Design by contract.</p>

<dt><a name='Class'></a><a name="Class::Tangram"
><a href="/perldoc?Class%3A%3ATangram" class="podlinkpod"
>Class::Tangram</a></a></dt>

<dd>
<p>Accessor automation and data validation for Tangram applications.</p>

<dt><a name='Class'></a><a name="Class::Maker"
><a href="/perldoc?Class%3A%3AMaker" class="podlinkpod"
>Class::Maker</a></a></dt>

<dd>
<p>An ambitious yet under-documented module that also manages accessor and constructor generation, data validation, and provides a reflection API. It also supports serialization.</p>

<dt><a name='Class'></a><a name="Class::MOP"
><a href="/perldoc?Class%3A%3AMOP" class="podlinkpod"
>Class::MOP</a></a></dt>

<dd>
<p>Stevan Little&#39;s application of Perl 6 meta classes to Perl 5.</p>

<dt><a name="Moose"
><a href="/perldoc?Moose" class="podlinkpod"
>Moose</a></a></dt>

<dd>
<p>&#34;It&#39;s the new camel.&#34; Another extension of the Perl 5 object system, built on <a href="/perldoc?Class%3A%3AMOP" class="podlinkpod"
>Class::MOP</a>.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Copyright (c) 2002-2011, David E. Wheeler. Some Rights Reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78254 Uploads, 24722 Distributions
105996 Modules, 9649 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Fri Apr 27 09:07:58 2012 GMT (0.610566139221191) @cpansearch1 -->
 </body>
</html>
