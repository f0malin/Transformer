<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>PAR::Filter::Crypto - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","Filter-Crypto",3]);
    _gaq.push(["_setCustomVar",5,"Release","Filter-Crypto-1.36",3]);
    _gaq.push(["_setCustomVar",3,"Module","PAR::Filter::Crypto",3]);
    _gaq.push(["_setCustomVar",1,"Author","SHAY",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?PAR::Filter::Crypto">permalink</a></div>
  <a href="/~shay/">Steve Hay</a> &gt;
  <a href="/~shay/Filter-Crypto-1.36/">Filter-Crypto-1.36</a> &gt;
  PAR::Filter::Crypto
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/856b4b97a07b0e8468d73eca2175bb88?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/S/SH/SHAY/Filter-Crypto-1.36.tar.gz">Filter-Crypto-1.36.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=PAR%3A%3AFilter%3A%3ACrypto;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~SHAY/Filter-Crypto-1.36/lib/PAR/Filter/Crypto.pm">Annotate this POD
</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>CPAN RT</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>New&nbsp;</td><td style="text-align:right"> 1</td></tr>
<tr><td>Open&nbsp;</td><td style="text-align:right"> 0</td></tr>
</table>
<a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Filter-Crypto">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
  Module Version:  1.07 &nbsp;
<span class="noprint">
  <a href="/src/SHAY/Filter-Crypto-1.36/lib/PAR/Filter/Crypto.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Methods'>Methods</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DIAGNOSTICS'>DIAGNOSTICS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Warnings_and_Error_Messages'>Warnings and Error Messages</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#EXPORTS'>EXPORTS</a>
  <li class='indexItem indexItem1'><a href='#KNOWN_BUGS'>KNOWN BUGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#ACKNOWLEDGEMENTS'>ACKNOWLEDGEMENTS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENCE'>LICENCE</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#DATE'>DATE</a>
  <li class='indexItem indexItem1'><a href='#HISTORY'>HISTORY</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>PAR::Filter::Crypto - Encrypt Perl files in PAR archives</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<pre class="sh_perl">    # Create a PAR archive containing an encrypted Perl script:
    $ pp -f Crypto -M Filter::Crypto::Decrypt -o hello hello.pl

    # The same, but with included modules encrypted as well:
    $ pp -f Crypto -F Crypto -M Filter::Crypto::Decrypt -o hello hello.pl

    # Encrypt Perl source code in $code:
    use PAR::Filter::Crypto;
    PAR::Filter::Crypto-&#62;apply(\$code);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module is a <a href="/perldoc?PAR%3A%3AFilter" class="podlinkpod"
>PAR::Filter</a> sub-class for producing PAR archives containing encrypted Perl files. The PAR::Filter class itself is part of the <a href="/perldoc?PAR" class="podlinkpod"
>PAR</a> distribution, and is clearly a prerequisite for using this sub-class.</p>

<p>The usual means of producing a PAR archive is using the <b>pp</b> script, which also comes with the PAR distribution. That script&#39;s <b>-f</b> and <b>-F</b> command-line options can be used to specify a &#34;filter&#34; through which to pass the Perl files being put into the PAR archive. Specifying this sub-class as the filter (i.e. &#34;<b>-f Crypto</b>&#34; for scripts and/or &#34;<b>-F Crypto</b>&#34; for modules) means that the Perl files will be encrypted using the <a href="/~shay/Filter-Crypto-1.36/CryptFile/lib/Filter/Crypto/CryptFile.pm" class="podlinkpod"
>Filter::Crypto::CryptFile</a> module. The resulting encrypted files are what will be placed in the PAR archive.</p>

<p>Note that the encrypted script requires the <a href="/~shay/Filter-Crypto-1.36/Decrypt/lib/Filter/Crypto/Decrypt.pm" class="podlinkpod"
>Filter::Crypto::Decrypt</a> module in order to decrypt itself when it is run. The original Perl script will not have specified any such dependency, so <b>pp</b> will not automatically include that module in the PAR archive for you. Therefore, you must use the <b>-M</b> option to force that module to be included. Also note that if you use the <b>-F</b> option to encrypt modules as well then the filtering will automatically skip the <a href="/~shay/Filter-Crypto-1.36/Decrypt/lib/Filter/Crypto/Decrypt.pm" class="podlinkpod"
>Filter::Crypto::Decrypt</a> module itself for obvious reasons. A typical <b>pp</b> invocation is thus something like:</p>

<pre class="sh_perl">    $ pp -f Crypto -F Crypto -M Filter::Crypto::Decrypt -o hello hello.pl</pre>

<p>(Version 0.75 of the <a href="/perldoc?Module%3A%3AScanDeps" class="podlinkpod"
>Module::ScanDeps</a> module, used by <b>pp</b> to scan for dependencies that need including in the PAR archive, is known to have problems finding shared library files for modules specified by <b>pp</b>&#39;s <b>-M</b> option (as illustrated above). If you find that the shared library file for Filter::Crypto::Decrypt is missing from your PAR archive then you need to upgrade Module::ScanDeps to version 0.76 or higher.)</p>

<p>Of course, you must not include the Filter::Crypto::CryptFile module as well, otherwise people to whom you distribute your PAR archive will have the means to easily decrypt the encrypted Perl script within it!</p>

<p>Also, note that the script is encrypted by reading its entire contents into memory, encrypting it in memory, and then writing it out to disk. This should be safe for most purposes given that Perl scripts are typically not very large, but other methods should be considered instead if this is likely to cause out-of-memory errors due to the size of the scripts, e.g. if the scripts have very large <code>__DATA__</code> sections.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Methods"
>Methods</a></h2>

<dl>
<dt><a name='apply'></a><a name="apply($ref)"
><code>apply($ref)</code></a></dt>

<dd>
<p>Class method. Encrypts the Perl source code referred to by $ref, and replaces the code referred to by $ref with the encrypted code. Thus, the code in $$ref gets encrypted &#34;in-place&#34;.</p>

<p>Returns 1 on success, or <code>croak()</code>s on failure (since the usual caller, PAR::Filter::apply(), does not bother checking the return value (as of PAR::Filter version 0.02, at least)).</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DIAGNOSTICS"
>DIAGNOSTICS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Warnings_and_Error_Messages"
>Warnings and Error Messages</a></h2>

<p>This module may produce the following diagnostic messages. They are classified as follows (a la <a href="/perldoc?perldiag" class="podlinkpod"
>perldiag</a>):</p>

<pre class="sh_perl">    (W) A warning (optional).
    (F) A fatal error (trappable).
    (I) An internal error that you should never see (trappable).</pre>

<dl>
<dt><a name='Can'></a><a name="Can&#39;t_close_temporary_filehandle_after_encryption:_%s"
>Can&#39;t close temporary filehandle after encryption: %s</a></dt>

<dd>
<p>(W) The temporary file used to perform the encryption could not be closed after use. The system error message corresponding to the standard C library <code>errno</code> variable is also given.</p>

<dt><a name='Can'></a><a name="Can&#39;t_rewind_temporary_filehandle_before_encryption:_%s"
>Can&#39;t rewind temporary filehandle before encryption: %s</a></dt>

<dd>
<p>(F) The temporary file used to perform the encryption could not be rewound before encrypting the source that was just written to it. The system error message corresponding to the standard C library <code>errno</code> variable is also given.</p>

<dt><a name='Can'></a><a name="Can&#39;t_rewind_temporary_filehandle_after_encryption:_%s"
>Can&#39;t rewind temporary filehandle after encryption: %s</a></dt>

<dd>
<p>(F) The temporary file used to perform the encryption could not be rewound after encrypting the source code that was written to it. The system error message corresponding to the standard C library <code>errno</code> variable is also given.</p>

<dt><a name='crypt_file'></a><a name="crypt_file()_failed:_%s"
>crypt_file() failed: %s</a></dt>

<dd>
<p>(F) The <code>crypt_file()</code> function from the Filter::Crypto::CryptFile module that is used to perform the encryption failed. The last error message from the Filter::Crypto::CryptFile module is also given.</p>

<dt><a name='Detected'></a><a name="Detected_Module::ScanDeps_version_0.75,_which_may_not_work_correctly_with_PAR::Filter::Crypto"
>Detected Module::ScanDeps version 0.75, which may not work correctly with PAR::Filter::Crypto</a></dt>

<dd>
<p>(W) Your current installation of the Module::ScanDeps module, used by <b>pp</b> to scan for dependencies that need including in the PAR archive, was found to be version 0.75, which is known to have problems finding shared library files for modules specified by <b>pp</b>&#39;s <b>-M</b> option. If you are running <b>pp</b> with the <b>-M</b> option and find that the shared library file for Filter::Crypto::Decrypt is missing from your PAR archive then you need to upgrade Module::ScanDeps to version 0.76 or higher.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXPORTS"
>EXPORTS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><i>None</i>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="KNOWN_BUGS"
>KNOWN BUGS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><i>None</i>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><a href="/perldoc?PAR%3A%3AFilter" class="podlinkpod"
>PAR::Filter</a>;</p>

<p><a href="/~shay/Filter-Crypto-1.36/lib/Filter/Crypto.pm" class="podlinkpod"
>Filter::Crypto</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ACKNOWLEDGEMENTS"
>ACKNOWLEDGEMENTS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>The <code>apply()</code> method is based on that in the PAR::Filter::Bytecode module in the PAR distribution (version 0.85), written by Autrijus Tang.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Steve Hay &#60;shay@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Copyright (C) 2004-2008, 2012 Steve Hay. All rights reserved.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENCE"
>LICENCE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself, i.e. under the terms of either the GNU General Public License or the Artistic License, as specified in the <em>LICENCE</em> file.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Version 1.07</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DATE"
>DATE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>02 Mar 2012</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="HISTORY"
>HISTORY <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>See the <em>Changes</em> file.</p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78059 Uploads, 24684 Distributions
105888 Modules, 9637 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Sat Apr 21 08:04:20 2012 GMT (0.0993778705596924) @cpansearch1 -->
 </body>
</html>
