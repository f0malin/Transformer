<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>Math::Fleximal - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","Math-Fleximal",3]);
    _gaq.push(["_setCustomVar",5,"Release","Math-Fleximal-0.06",3]);
    _gaq.push(["_setCustomVar",3,"Module","Math::Fleximal",3]);
    _gaq.push(["_setCustomVar",1,"Author","TILLY",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?Math::Fleximal">permalink</a></div>
  <a href="/~tilly/">Ben Tilly</a> &gt;
  <a href="/~tilly/Math-Fleximal-0.06/">Math-Fleximal-0.06</a> &gt;
  Math::Fleximal
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/90a8a5214a6b10fc9cdb1df26ffa9f0a?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/T/TI/TILLY/Math-Fleximal-0.06.tar.gz">Math-Fleximal-0.06.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=Math%3A%3AFleximal;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~TILLY/Math-Fleximal-0.06/lib/Math/Fleximal.pm">Annotate this POD
</a></p>
<div class=box style='width:150px; float: right'>
<h1 class=t5>Related Modules</h1>
<div style="margin:2px">
<a href="/perldoc?Math%3A%3ABaseCalc">Math::BaseCalc</a><br>
<a href="/perldoc?Math%3A%3ABigInt">Math::BigInt</a><br>
<a href="/perldoc?MIME%3A%3ABase64">MIME::Base64</a><br>
<a href="/perldoc?Digest%3A%3AMD5">Digest::MD5</a><br>
<a href="/perldoc?List%3A%3AUtil">List::Util</a><br>
<small>
<a href="http://perlmonks.org/?node=cpan+module+search&pivot=1&module=Math%3A%3AFleximal">more...</a><br>
By <a href="http://perlmonks.org/">perlmonks.org</a></small>
</div>
</div>

<div style="float:right">
<a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Math-Fleximal">View/Report Bugs</a><br/>

</div>
</div>
  Module Version:  0.06 &nbsp;
<span class="noprint">
  <a href="/src/TILLY/Math-Fleximal-0.06/lib/Math/Fleximal.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR_AND_COPYRIGHT'>AUTHOR AND COPYRIGHT</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Math::Fleximal - Integers with flexible representations.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<pre class="sh_perl">  use Math::Fleximal;
  my $number = new Math::Fleximal($value, $flex);
  
  # Set the value
  $number = $number-&#62;set_value(&#34;- $fleck_4$fleck_3&#34;);
  $number = $number-&#62;set_value($another_number);

  # Get the object in a familiar form  
  my $string = $number-&#62;to_str();
  my $integer = $number-&#62;base_10();
  
  # Construct more numbers with same flex
  my $copy = $number-&#62;dup();
  my $other_number = $number-&#62;dup($value);
  my $absolute_value = $number-&#62;abs();

  # New representation anyone?
  my $in_new_base = $number-&#62;change_flex($new_flex);

  # Arithmetic - can be different flex.  Answers have
  # the flex of $number.
  $result = $number-&#62;add($other_number);
  $result = $number-&#62;mul($other_number);
  $result = $number-&#62;subtr($other_numer);
  $result = $number-&#62;div($other_number);

  # And integer-specific arithmetic works
  $result = $number-&#62;gcd($other_number);
  $result = $number-&#62;mod($other_number);
  
  my $comparison = $number-&#62;cmp($other_number);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This is a package for doing integer arithmetic while using a different base representation than normal. In base n arithmetic you have n symbols which have a representation. I was going to call them &#34;glyphs&#34;, but being text strings they are not really. On Tye McQueen&#39;s whimsical suggestion I settled on the name Math::Fleximal, the set of text representations is called a &#34;flex&#34;, and the representation of individual digits are the &#34;flecks&#34;. These names are somewhat unofficial...</p>

<p>This allows you to do basic arithmetic using whatever digits you want, and to convert from one to another.</p>

<p>Like <code>Math::BigInt</code> it is able to handle very large numbers, though performance is not very good. (Which is also like <code>Math::BigInt</code>, for good performance you should be using &#60;Bit::Vector&#62;.) Instead use it as a version of Math::BaseCalc without an upper limit on the size of numbers. A sample use would be to put an MD5 hash into a convenient representation:</p>

<pre class="sh_perl">  use Math::Fleximal;
  use Digest::MD5 qw(md5_hex);
  my $digest = hex2alpha(md5_hex($data));
  
  # Converts a hex representation of a number into
  # one that uses more alphanumerics.  (ie base 62)
  sub hex2alpha {
    Math::Fleximal-&#62;new(
      lc(shift), [0..9, &#39;a&#39;..&#39;f&#39;]
    )-&#62;change_flex(
      [0..9,&#39;a&#39;..&#39;z&#39;,&#39;A&#39;..&#39;Z&#39;]
    )-&#62;to_str();
  }</pre>

<dl>
<dt><a name="new"
><code>new</code></a></dt>

<dd>
<p>Construct a new number. The arguments are the value, the anonymous array of flecks that make up the flex, followed by an anonymous hash of other arguments. The flex will default to [0..9] and the other arguments will default to an empty hash.</p>

<p>This can be used to calculations in bases other than 10 - the base is just the number of flecks in the flex. So you could construct a base 16 number with:</p>

<pre class="sh_perl">  my $base_16 = new Math::Fleximal(&#34;4d&#34;, [0..9, &#39;a&#39;..&#39;f&#39;]);</pre>

<p>If a value is passed it can be an existing Math::Fleximal or (as above) a string that can be parsed with the current flex.</p>

<p>The possible keys to the optional arguments are:</p>

<ul>
<li><i>+</i> for the plus symbol to use. This defaults to &#39;+&#39;.</li>

<li><i>-</i> for the minus symbol to use. This defaults to &#39;-&#39;.</li>

<li><i>show_+</i> is a flag for whether to show the plus symbol on positive numbers. This defaults to a false value.</li>

<li>Whatever matches <i>strip</i> will be stripped from the string before parsing. This defaults to qr/[\s\.,_]/ to cover most of the common ways that are used to group digits in a long number.</li>
</ul>

<p>The parsing of a string into flecks is case sensitive. Also possibly ambiguous parses are not handled very well.</p>

<dt><a name="dup"
><code>dup</code></a></dt>

<dd>
<p>Copy an existing number. This copy may be worked with without changing the existing number. If dup is passed a value, the new instance will have that value instead.</p>

<dt><a name="set_value"
><code>set_value</code></a></dt>

<dd>
<p>This sets the internal value and returns the object.</p>

<p>You can either pass the new value an existing instance (which may be in another base) or a string. When passed a string it first strips whitespace. After that it accepts an optional +-, followed by a series of flecks (there must be at least one) for the first to last digits. It will be confused if the leading fleck starts with + or - and no sign is included.</p>

<dt><a name="to_str"
><code>to_str</code></a></dt>

<dd>
<p>Returns the string representation of the current value using the current flex. This always includes a sign, with no white space in front of the sign.</p>

<dt><a name="base_10"
><code>base_10</code></a></dt>

<dd>
<p>Returns the internal value in a base 10 representation. The numbers returned may be larger than Perl&#39;s usual integer representation can handle.</p>

<dt><a name="change_flex"
><code>change_flex</code></a></dt>

<dd>
<p>Takes a new flex and converts the current to that. Will implicitly change base if needed.</p>

<dt><a name="add"
><code>add</code></a></dt>

<dd>
<p>Adds one or more numbers to the current one and returns the answer in the current representation. The numbers may be objects in any base, or strings of the current representation.</p>

<dt><a name="mul"
><code>mul</code></a></dt>

<dd>
<p>Multiplies one or more numbers to the current one and returns the answer in the current representation. The numbers may be objects in any base, or strings of the current representation.</p>

<dt><a name="subtr"
><code>subtr</code></a></dt>

<dd>
<p>Subtracts one or more numbers from the current one and returns the answer in the current representation. The numbers may be objects in any base, or strings of the current representation.</p>

<dt><a name="div"
><code>div</code></a></dt>

<dd>
<p>Divides one or more numbers from the current one and returns the answer in the current representation. In list context it will return the answer and an array of remainders in the current representation. The remainders will be positive and less than the absolute value of the denominator. The numbers may be objects in any base, or strings of the current representation.</p>

<dt><a name="gcd"
><code>gcd</code></a></dt>

<dd>
<p>Takes one or more numbers and calculates the gcd of this and the entire list.</p>

<dt><a name="mod"
><code>mod</code></a></dt>

<dd>
<p>Does the divisions as <code>div</code> does and returns only the remainders. In scalar context only the last remainder is returned. Thus the following returns the ten-thousands digit:</p>

<pre class="sh_perl">  my $digit = $number-&#62;mod(1000, 10);</pre>

<dt><a name="cmp"
><code>cmp</code></a></dt>

<dd>
<p>Pass another number, returns -1 if it is smaller than the other number, 0 if they are equal, and 1 if it is larger. (Much like cmp does with strings.)</p>

<dt><a name="one"
><code>one</code></a></dt>

<dd>
<p>Returns 1 in the current flex.</p>

<dt><a name="zero"
><code>zero</code></a></dt>

<dd>
<p>Returns 0 in the current flex.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This will fail if you are trying to work in bases of size more than 30,000 or so.</p>

<p>Only a slight effort is made to resolve potential ambiguities in the parsing of a string into flecks.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR_AND_COPYRIGHT"
>AUTHOR AND COPYRIGHT <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Copyright 2000-2001, Ben Tilly (&#60;btilly@gmail.com&#62;)</p>

<p>Math::Fleximal may be copied and distributed on the same terms as Perl itself.</p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78283 Uploads, 24725 Distributions
106015 Modules, 9649 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Sat Apr 28 07:45:19 2012 GMT (0.384448051452637) @cpansearch1 -->
 </body>
</html>
