<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>Mouse::Util::TypeConstraints - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","Mouse",3]);
    _gaq.push(["_setCustomVar",5,"Release","Mouse-0.97",3]);
    _gaq.push(["_setCustomVar",3,"Module","Mouse::Util::TypeConstraints",3]);
    _gaq.push(["_setCustomVar",1,"Author","GFUJI",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?Mouse::Util::TypeConstraints">permalink</a></div>
  <a href="/~gfuji/">&#x85E4; &#x543E;&#x90CE;</a> &gt;
  <a href="/~gfuji/Mouse-0.97/">Mouse-0.97</a> &gt;
  Mouse::Util::TypeConstraints
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/9278c3a06b8d8752fb913dea93f959c1?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/G/GF/GFUJI/Mouse-0.97.tar.gz">Mouse-0.97.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=Mouse%3A%3AUtil%3A%3ATypeConstraints;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~GFUJI/Mouse-0.97/lib/Mouse/Util/TypeConstraints.pm">Annotate this POD
</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>CPAN RT</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>New&nbsp;</td><td style="text-align:right"> 6</td></tr>
<tr><td>Open&nbsp;</td><td style="text-align:right"> 5</td></tr>
</table>
<a href="https://rt.cpan.org/Public/Dist/Display.html?Name=Mouse">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
<span class="noprint">
  <a href="/src/GFUJI/Mouse-0.97/lib/Mouse/Util/TypeConstraints.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#SYNOPSIS'>SYNOPSIS</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Important_Caveat'>Important Caveat</a>
    <li class='indexItem indexItem2'><a href='#Slightly_Less_Important_Caveat'>Slightly Less Important Caveat</a>
    <li class='indexItem indexItem2'><a href='#Default_Type_Constraints'>Default Type Constraints</a>
    <li class='indexItem indexItem2'><a href='#Type_Constraint_Naming'>Type Constraint Naming</a>
    <li class='indexItem indexItem2'><a href='#Use_with_Other_Constraint_Modules'>Use with Other Constraint Modules</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#list_all_builtin_type_constraints_-&#62;_(Names)'>list_all_builtin_type_constraints -&#62; (Names)</a>
    <li class='indexItem indexItem2'><a href='#list_all_type_constraints_-&#62;_(Names)'>list_all_type_constraints -&#62; (Names)</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <li class='indexItem indexItem1'><a href='#THANKS'>THANKS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Mouse::Util::TypeConstraints - Type constraint system for Mouse</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This document describes Mouse version 0.97</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h2>

<pre class="sh_perl">  use Mouse::Util::TypeConstraints;

  subtype &#39;Natural&#39;
      =&#62; as &#39;Int&#39;
      =&#62; where { $_ &#62; 0 };

  subtype &#39;NaturalLessThanTen&#39;
      =&#62; as &#39;Natural&#39;
      =&#62; where { $_ &#60; 10 }
      =&#62; message { &#34;This number ($_) is not less than ten!&#34; };

  coerce &#39;Num&#39;
      =&#62; from &#39;Str&#39;
        =&#62; via { 0+$_ };

  enum &#39;RGBColors&#39; =&#62; qw(red green blue);

  no Mouse::Util::TypeConstraints;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module provides Mouse with the ability to create custom type constraints to be used in attribute definition.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Important_Caveat"
>Important Caveat</a></h2>

<p>This is <b>NOT</b> a type system for Perl 5. These are type constraints, and they are not used by Mouse unless you tell it to. No type inference is performed, expressions are not typed, etc. etc. etc.</p>

<p>A type constraint is at heart a small &#34;check if a value is valid&#34; function. A constraint can be associated with an attribute. This simplifies parameter validation, and makes your code clearer to read, because you can refer to constraints by name.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Slightly_Less_Important_Caveat"
>Slightly Less Important Caveat</a></h2>

<p>It is <b>always</b> a good idea to quote your type names.</p>

<p>This prevents Perl from trying to execute the call as an indirect object call. This can be an issue when you have a subtype with the same name as a valid class.</p>

<p>For instance:</p>

<pre class="sh_perl">  subtype DateTime =&#62; as Object =&#62; where { $_-&#62;isa(&#39;DateTime&#39;) };</pre>

<p>will <i>just work</i>, while this:</p>

<pre class="sh_perl">  use DateTime;
  subtype DateTime =&#62; as Object =&#62; where { $_-&#62;isa(&#39;DateTime&#39;) };</pre>

<p>will fail silently and cause many headaches. The simple way to solve this, as well as future proof your subtypes from classes which have yet to have been created, is to quote the type name:</p>

<pre class="sh_perl">  use DateTime;
  subtype &#39;DateTime&#39; =&#62; as &#39;Object&#39; =&#62; where { $_-&#62;isa(&#39;DateTime&#39;) };</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Default_Type_Constraints"
>Default Type Constraints</a></h2>

<p>This module also provides a simple hierarchy for Perl 5 types, here is that hierarchy represented visually.</p>

<pre class="sh_perl"> Any
  Item
      Bool
      Maybe[`a]
      Undef
      Defined
          Value
              Str
                  Num
                      Int
                  ClassName
                  RoleName
          Ref
              ScalarRef
              ArrayRef[`a]
              HashRef[`a]
              CodeRef
              RegexpRef
              GlobRef
                  FileHandle
              Object</pre>

<p><b>NOTE:</b> Any type followed by a type parameter <code>[`a]</code> can be parameterized, this means you can say:</p>

<pre class="sh_perl">  ArrayRef[Int]    # an array of integers
  HashRef[CodeRef] # a hash of str to CODE ref mappings
  Maybe[Str]       # value may be a string, may be undefined</pre>

<p>If Mouse finds a name in brackets that it does not recognize as an existing type, it assumes that this is a class name, for example <code>ArrayRef[DateTime]</code>.</p>

<p><b>NOTE:</b> The <code>Undef</code> type constraint for the most part works correctly now, but edge cases may still exist, please use it sparingly.</p>

<p><b>NOTE:</b> The <code>ClassName</code> type constraint does a complex package existence check. This means that your class <b>must</b> be loaded for this type constraint to pass.</p>

<p><b>NOTE:</b> The <code>RoleName</code> constraint checks a string is a <i>package name</i> which is a role, like <code>&#39;MyApp::Role::Comparable&#39;</code>. The <code>Role</code> constraint checks that an <i>object does</i> the named role.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Type_Constraint_Naming"
>Type Constraint Naming</a></h2>

<p>Type name declared via this module can only contain alphanumeric characters, colons (:), and periods (.).</p>

<p>Since the types created by this module are global, it is suggested that you namespace your types just as you would namespace your modules. So instead of creating a <i>Color</i> type for your <b>My::Graphics</b> module, you would call the type <i>My::Graphics::Types::Color</i> instead.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Use_with_Other_Constraint_Modules"
>Use with Other Constraint Modules</a></h2>

<p>This module can play nicely with other constraint modules with some slight tweaking. The <code>where</code> clause in types is expected to be a <code>CODE</code> reference which checks it&#39;s first argument and returns a boolean. Since most constraint modules work in a similar way, it should be simple to adapt them to work with Mouse.</p>

<p>For instance, this is how you could use it with <a href="/perldoc?Declare%3A%3AConstraints%3A%3ASimple" class="podlinkpod"
>Declare::Constraints::Simple</a> to declare a completely new type.</p>

<pre class="sh_perl">  type &#39;HashOfArrayOfObjects&#39;,
      {
      where =&#62; IsHashRef(
          -keys   =&#62; HasLength,
          -values =&#62; IsArrayRef(IsObject)
      )
  };</pre>

<p>Here is an example of using <a href="/perldoc?Test%3A%3ADeep" class="podlinkpod"
>Test::Deep</a> and it&#39;s non-test related <code>eq_deeply</code> function.</p>

<pre class="sh_perl">  type &#39;ArrayOfHashOfBarsAndRandomNumbers&#39;
      =&#62; where {
          eq_deeply($_,
              array_each(subhashof({
                  bar           =&#62; isa(&#39;Bar&#39;),
                  random_number =&#62; ignore()
              })))
        };</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="list_all_builtin_type_constraints_-&#62;_(Names)"
><code>list_all_builtin_type_constraints -&#62; (Names)</code></a></h2>

<p>Returns the names of builtin type constraints.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="list_all_type_constraints_-&#62;_(Names)"
><code>list_all_type_constraints -&#62; (Names)</code></a></h2>

<p>Returns the names of all the type constraints.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<dl>
<dt><a name='type'></a><a name="type_$name_=&#62;_where_{_}_..._-&#62;_Mouse::Meta::TypeConstraint"
><code>type $name =&#62; where { } ... -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='subtype'></a><a name="subtype_$name_=&#62;_as_$parent_=&#62;_where_{_}_..._-&#62;_Mouse::Meta::TypeConstraint"
><code>subtype $name =&#62; as $parent =&#62; where { } ... -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='subtype'></a><a name="subtype_as_$parent_=&#62;_where_{_}_..._-&#62;_Mouse::Meta::TypeConstraint"
><code>subtype as $parent =&#62; where { } ... -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='class_type'></a><a name="class_type_($class,_?$options)_-&#62;_Mouse::Meta::TypeConstraint"
><code>class_type ($class, ?$options) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='role_type'></a><a name="role_type_($role,_?$options)_-&#62;_Mouse::Meta::TypeConstraint"
><code>role_type ($role, ?$options) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='duck_type'></a><a name="duck_type($name,_@methods_|_\@methods)_-&#62;_Mouse::Meta::TypeConstraint"
><code>duck_type($name, @methods | \@methods) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='duck_type'></a><a name="duck_type(\@methods)_-&#62;_Mouse::Meta::TypeConstraint"
><code>duck_type(\@methods) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='enum'></a><a name="enum($name,_@values_|_\@values)_-&#62;_Mouse::Meta::TypeConstraint"
><code>enum($name, @values | \@values) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='enum'></a><a name="enum_(\@values)_-&#62;_Mouse::Meta::TypeConstraint"
><code>enum (\@values) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>

<dd>
<dt><a name='coerce'></a><a name="coerce_$type_=&#62;_from_$another_type,_via_{_},_..."
><code>coerce $type =&#62; from $another_type, via { }, ...</code></a></dt>
</dl>

<dl>
<dt><a name='find_type_constraint'></a><a name="find_type_constraint(Type)_-&#62;_Mouse::Meta::TypeConstraint"
><code>find_type_constraint(Type) -&#62; Mouse::Meta::TypeConstraint</code></a></dt>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="THANKS"
>THANKS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Much of this documentation was taken from <code>Moose::Util::TypeConstraints</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><a href="/perldoc?Moose%3A%3AUtil%3A%3ATypeConstraints" class="podlinkpod"
>Moose::Util::TypeConstraints</a></p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78179 Uploads, 24710 Distributions
106004 Modules, 9645 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Wed Apr 25 06:11:41 2012 GMT (0.135438919067383) @cpansearch1 -->
 </body>
</html>
