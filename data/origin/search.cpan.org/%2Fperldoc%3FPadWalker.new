<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>PadWalker - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","PadWalker",3]);
    _gaq.push(["_setCustomVar",5,"Release","PadWalker-1.93",3]);
    _gaq.push(["_setCustomVar",3,"Module","PadWalker",3]);
    _gaq.push(["_setCustomVar",1,"Author","ROBIN",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?PadWalker">permalink</a></div>
  <a href="/~robin/">Robin Houston</a> &gt;
  <a href="/~robin/PadWalker-1.93/">PadWalker-1.93</a> &gt;
  PadWalker
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/bd5f59d20570ba2581070cf908233263?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/R/RO/ROBIN/PadWalker-1.93.tar.gz">PadWalker-1.93.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=PadWalker;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~ROBIN/PadWalker-1.93/PadWalker.pm">Annotate this POD
(1)
</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>CPAN RT</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>New&nbsp;</td><td style="text-align:right"> 5</td></tr>
<tr><td>Open&nbsp;</td><td style="text-align:right"> 4</td></tr>
</table>
<a href="https://rt.cpan.org/Public/Dist/Display.html?Name=PadWalker">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
  Module Version:  1.93 &nbsp;
<span class="noprint">
  <a href="/src/ROBIN/PadWalker-1.93/PadWalker.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>PadWalker - play with other peoples&#39; lexical variables</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<pre class="sh_perl">  use PadWalker qw(peek_my peek_our peek_sub closed_over);
  ...</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>PadWalker is a module which allows you to inspect (and even change!) lexical variables in any subroutine which called you. It will only show those variables which are in scope at the point of the call.</p>

<p>PadWalker is particularly useful for debugging. It&#39;s even used by Perl&#39;s built-in debugger. (It can also be used for evil, of course.)</p>

<p>I wouldn&#39;t recommend using PadWalker directly in production code, but it&#39;s your call. Some of the modules that use PadWalker internally are certainly safe for and useful in production.</p>

<dl>
<dt><a name='peek_my'></a><a name="peek_my_LEVEL"
>peek_my LEVEL</a></dt>

<dd>
<dt><a name='peek_our'></a><a name="peek_our_LEVEL"
>peek_our LEVEL</a></dt>

<dd>
<p>The LEVEL argument is interpreted just like the argument to <code>caller</code>. So <code>peek_my(0)</code> returns a reference to a hash of all the <code>my</code> variables that are currently in scope; <code>peek_my(1)</code> returns a reference to a hash of all the <code>my</code> variables that are in scope at the point where the current sub was called, and so on.</p>

<p><code>peek_our</code> works in the same way, except that it lists the <code>our</code> variables rather than the <code>my</code> variables.</p>

<p>The hash associates each variable name with a reference to its value. The variable names include the sigil, so the variable $x is represented by the string &#39;$x&#39;.</p>

<p>For example:</p>

<pre class="sh_perl">  my $x = 12;
  my $h = peek_my (0);
  ${$h-&#62;{&#39;$x&#39;}}++;

  print $x;  # prints 13</pre>

<p>Or a more complex example:</p>

<pre class="sh_perl">  sub increment_my_x {
    my $h = peek_my (1);
    ${$h-&#62;{&#39;$x&#39;}}++;
  }

  my $x=5;
  increment_my_x;
  print $x;  # prints 6</pre>

<dt><a name='peek_sub'></a><a name="peek_sub_SUB"
>peek_sub SUB</a></dt>

<dd>
<p>The <code>peek_sub</code> routine takes a coderef as its argument, and returns a hash of the <code>my</code> variables used in that sub. The values will usually be undefined unless the sub is in use (i.e. in the call-chain) at the time. On the other hand:</p>

<pre class="sh_perl">  my $x = &#34;Hello!&#34;;
  my $r = peek_sub(sub {$x})-&#62;{&#39;$x&#39;};
  print &#34;$$r\n&#34;;        # prints &#39;Hello!&#39;</pre>

<p>If the sub defines several <code>my</code> variables with the same name, you&#39;ll get the last one. I don&#39;t know of any use for <code>peek_sub</code> that isn&#39;t broken as a result of this, and it will probably be deprecated in a future version in favour of some alternative interface.</p>

<dt><a name='closed_over'></a><a name="closed_over_SUB"
>closed_over SUB</a></dt>

<dd>
<p><code>closed_over</code> is similar to <code>peek_sub</code>, except that it only lists the <code>my</code> variables which are used in the subroutine but defined outside: in other words, the variables which it closes over. This <i>does</i> have reasonable uses: see <a href="/perldoc?Data%3A%3ADump%3A%3AStreamer" class="podlinkpod"
>Data::Dump::Streamer</a>, for example (a future version of which may in fact use <code>closed_over</code>).</p>

<dt><a name='set_closed_over'></a><a name="set_closed_over_SUB,_HASH_REF"
>set_closed_over SUB, HASH_REF</a></dt>

<dd>
<p><code>set_closed_over</code> reassigns the pad variables that are closed over by the subroutine.</p>

<p>The second argument is a hash of references, much like the one returned from <code>closed_over</code>.</p>

<dt><a name='var_name'></a><a name="var_name_LEVEL,_VAR_REF"
>var_name LEVEL, VAR_REF</a></dt>

<dd>
<dt><a name='var_name'></a><a name="var_name_SUB,_VAR_REF"
>var_name SUB, VAR_REF</a></dt>

<dd>
<p><code>var_name(sub, var_ref)</code> returns the name of the variable referred to by <code>var_ref</code>, provided it is a <code>my</code> variable used in the sub. The <code>sub</code> parameter can be either a CODE reference or a number. If it&#39;s a number, it&#39;s treated the same way as the argument to <code>peek_my</code>.</p>

<p>For example,</p>

<pre class="sh_perl">  my $foo;
  print var_name(0, \$foo);    # prints &#39;$foo&#39;
  
  sub my_name {
    return var_name(1, shift);
  }
  print my_name(\$foo);        # ditto</pre>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Robin Houston &#60;robin@cpan.org&#62;</p>

<p>With contributions from Richard Soberberg, Jesse Luehrs and Yuval Kogman, bug-spotting from Peter Scott, Dave Mitchell and Goro Fuji, and suggestions from demerphq.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><a href="/perldoc?Devel%3A%3ALexAlias" class="podlinkpod"
>Devel::LexAlias</a>, <a href="/perldoc?Devel%3A%3ACaller" class="podlinkpod"
>Devel::Caller</a>, <a href="/perldoc?Sub%3A%3AParameters" class="podlinkpod"
>Sub::Parameters</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Copyright (c) 2000-2009, Robin Houston. All Rights Reserved. This module is free software. It may be used, redistributed and/or modified under the same terms as Perl itself.</p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78067 Uploads, 24686 Distributions
105893 Modules, 9637 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Sun Apr 22 03:41:33 2012 GMT (0.100953817367554) @cpansearch1 -->
 </body>
</html>
