<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>B::Generate - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","B-Generate",3]);
    _gaq.push(["_setCustomVar",5,"Release","B-Generate-1.44",3]);
    _gaq.push(["_setCustomVar",3,"Module","B::Generate",3]);
    _gaq.push(["_setCustomVar",1,"Author","RURBAN",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?B::Generate">permalink</a></div>
  <a href="/~rurban/">Reini Urban</a> &gt;
  <a href="/~rurban/B-Generate-1.44/">B-Generate-1.44</a> &gt;
  B::Generate
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/87a08c1a47ade883c793d1f94422a78a?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/R/RU/RURBAN/B-Generate-1.44.tar.gz">B-Generate-1.44.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=B%3A%3AGenerate;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~RURBAN/B-Generate-1.44/lib/B/Generate.pm">Annotate this POD
</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>CPAN RT</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>Open&nbsp;</td><td style="text-align:right"> 1</td></tr>
</table>
<a href="https://rt.cpan.org/Public/Dist/Display.html?Name=B-Generate">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
  Module Version:  1.44 &nbsp;
<span class="noprint">
  <a href="/src/RURBAN/B-Generate-1.44/lib/B/Generate.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#WARNING'>WARNING</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#OTHER_METHODS'>OTHER METHODS</a>
    <li class='indexItem indexItem2'><a href='#EXPORT'>EXPORT</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#MAINTAINERS'>MAINTAINERS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>B::Generate - Create your own op trees.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<pre class="sh_perl">    use B::Generate;
    # Do nothing, slowly.
    CHECK {
        my $null = new B::OP(&#34;null&#34;,0);
        my $enter = new B::OP(&#34;enter&#34;,0);
        my $cop = new B::COP(0, &#34;hiya&#34;, 0);
        my $leave = new B::LISTOP(&#34;leave&#34;, 0, $enter, $null);
        $leave-&#62;children(3);
        $enter-&#62;sibling($cop);
        $enter-&#62;next($cop);
        $cop-&#62;sibling($null);
        $null-&#62;next($leave);
        $cop-&#62;next($leave);

        # Tell Perl where to find our tree.
        B::main_root($leave);
        B::main_start($enter);
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="WARNING"
>WARNING <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module will create segmentation faults if you don&#39;t know how to use it properly. Further warning: sometimes <b>I</b> don&#39;t know how to use it properly.</p>

<p>There <b>are</b> lots of other methods and utility functions, but they are not documented here. This is deliberate, rather than just through laziness. You are expected to have read the Perl and XS sources to this module before attempting to do anything with it.</p>

<p>Patches welcome.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>The <code>B</code> module allows you to examine the Perl op tree at runtime, in Perl space; it&#39;s the basis of the Perl compiler. But what it doesn&#39;t let you do is manipulate that op tree: it won&#39;t let you create new ops, or modify old ones. Now you can.</p>

<p>Well, if you&#39;re intimately familiar with Perl&#39;s internals, you can.</p>

<p><code>B::Generate</code> turns <code>B</code>&#39;s accessor methods into get-set methods. Hence, instead of merely saying</p>

<pre class="sh_perl">    $op2 = $op-&#62;next;</pre>

<p>you can now say</p>

<pre class="sh_perl">    $op-&#62;next($op2);</pre>

<p>to set the next op in the chain. It also adds constructor methods to create new ops. This is where it gets really hairy.</p>

<pre class="sh_perl">    new B::OP     ( type, flags )
    new B::UNOP   ( type, flags, first )
    new B::BINOP  ( type, flags, first, last )
    new B::LOGOP  ( type, flags, first, other )
    new B::LISTOP ( type, flags, first, last )
    new B::SVOP   ( type, flags, sv )
    new B::COP    ( flags, name, first )</pre>

<p>In all of the above constructors, <code>type</code> is either a numeric value representing the op type (<code>62</code> is the addition operator in certain perl versions, for instance) or the name of the op. (<code>&#34;add&#34;</code>)</p>

<p>Incidentally, if you know about custom ops and have registed them properly with the interpreter, you can create custom ops by name: <code>new B::OP(&#34;mycustomop&#34;,0)</code>, or whatever.</p>

<p><code>first</code>, <code>last</code> and <code>other</code> are ops to be attached to the current op; these should be <code>B::OP</code> objects. If you haven&#39;t created the ops yet, don&#39;t worry; give a false value, and fill them in later:</p>

<pre class="sh_perl">    $x = new B::UNOP(&#34;negate&#34;, 0, undef);
    # ... create some more ops ...
    $x-&#62;first($y);</pre>

<p>In addition, one may create a new <code>nextstate</code> operator with</p>

<pre class="sh_perl">    newstate B::op ( flags, label, op)</pre>

<p>in the same manner as <code>B::COP::new</code> - this will also, however, add the <code>lineseq</code> op.</p>

<p>Finally, you can set the main root and the starting op by passing ops to the <code>B::main_root</code> and <code>B::main_start</code> functions.</p>

<p>This module can obviously be used for all sorts of fun and optimizational purposes. One example will be in conjuction with source filters; have your source filter parse an input file in a foreign language, create an op tree for it and get Perl to execute it. Then email me and tell me how you did it. And why.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OTHER_METHODS"
>OTHER METHODS</a></h2>

<dl>
<dt><a name='B'></a><a name="B::SVOP-&#62;sv()"
>B::SVOP-&#62;sv()</a></dt>

<dd>
<p>Returns the SV value instead of the <code>B::SV</code> object. For instance:</p>

<pre class="sh_perl">    $b_sv = $svop-&#62;sv;
    if ($b_sv-&#62;sv == 3) {
        print &#34;SVOP&#39;s SV has an IV of 3\n&#34;
    }</pre>

<p>But to set the SV you need a proper B::SV object.</p>

<dt><a name='op'></a><a name="$op-&#62;dump"
>$op-&#62;dump</a></dt>

<dd>
<p>Runs <code>Perl_op_dump</code> on an op; this is roughly equivalent to <code>B::Debug</code>, but not quite.</p>

<dt><a name='b_sv'></a><a name="$b_sv-&#62;dump"
>$b_sv-&#62;dump</a></dt>

<dd>
<p>Runs <code>Perl_sv_dump</code> on an SV; this is exactly equivalent to <code>Devel::Peek::dump($b_sv-&#62;sv)</code></p>

<dt><a name='b_op'></a><a name="$b_op-&#62;linklist"
>$b_op-&#62;linklist</a></dt>

<dd>
<p>Sets the <code>op_next</code> pointers in the tree in correct execution order, overwriting the old <code>next</code> pointers. You <b>need</b> to do this once you&#39;ve created an op tree for execution, unless you&#39;ve carefully threaded it together yourself.</p>

<dt><a name='b_op'></a><a name="$b_op-&#62;scope"
>$b_op-&#62;scope</a></dt>

<dd>
<p>Create a surrounding scope for the b_op, &#34;parenthesize&#34; it.</p>

<p>Creates on OPf_PARENS (alerady parenthesized by the parser) a full lineseq, enter, b_op, leave sequence.</p>

<p>Otherwise just scope, b_op.</p>

<dt><a name='B'></a><a name="B::SVOP-&#62;new_svrv_(_type,_flags,_sv_)"
>B::SVOP-&#62;new_svrv ( type, flags, sv )</a></dt>

<dd>
<p>Similar to B::SVOP-&#62;new ( type, flags, sv ), it just creates a new SVOP with an attached sv as SvRV to the given sv.</p>

<dt><a name='cv'></a><a name="$cv-&#62;NEW_with_start_(root,_start)"
>$cv-&#62;NEW_with_start (root, start)</a></dt>

<dd>
<p>Clone the <code>cv</code> with new root and start ops. Note that contrary to <code>cv_clone</code>, the PADLIST and pad index is kept, but the index might point to a different lexical, because the PADLIST indices will be different. See <em>t/new_cv.t</em>.</p>

<p>Warning: <code>$cv-</code>NEW_with_start&#62; is disabled on some strict platforms, like <b>MSWin32</b>. See CPAN RT#28912.</p>

<dt><a name='b_op'></a><a name="$b_op-&#62;targ_(_[_targ]_)"
>$b_op-&#62;targ ( [ targ] )</a></dt>

<dd>
<p>Get or set the PADOFFSET.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="EXPORT"
>EXPORT</a></h2>

<p>None.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Simon Cozens, <code>simon@cpan.org</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MAINTAINERS"
>MAINTAINERS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Currently maintained by Reini Urban.</p>

<p>This is just a list of people who have submitted patches to the module. You may also try contacting perl5-porters.</p>

<p>Josh Jore, Michael Schwern, Jim Cromie, Scott Walters, Reini Urban, Anton Berezin, Dmitry Karasik.</p>

<p>Maintainership permissions do have: Artur Bergman, Chia-liang Kao, Anton Berezin, Jim Cromie, Joshua ben Jore, Michael G Schwern, Matt S Trout, Reini Urban, Scott Walters.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module is available under the same licences as perl, the Artistic license and the GPL.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><a href="/perldoc?B" class="podlinkpod"
>B</a>, <em>perlguts</em>, <em>op.c</em>, <b>perloptree</b> with <a href="/perldoc?B%3A%3AC" class="podlinkpod"
>B::C</a></p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78276 Uploads, 24724 Distributions
106002 Modules, 9649 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Sat Apr 28 02:55:10 2012 GMT (0.147443056106567) @cpansearch1 -->
 </body>
</html>
