<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>URI::file - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","URI",3]);
    _gaq.push(["_setCustomVar",5,"Release","URI-1.60",3]);
    _gaq.push(["_setCustomVar",3,"Module","URI::file",3]);
    _gaq.push(["_setCustomVar",1,"Author","GAAS",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?URI::file">permalink</a></div>
  <a href="/~gaas/">Gisle Aas</a> &gt;
  <a href="/~gaas/URI-1.60/">URI-1.60</a> &gt;
  URI::file
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/80ccd89a65d9faf08c2fb6be2991ba57?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/G/GA/GAAS/URI-1.60.tar.gz">URI-1.60.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=URI%3A%3Afile;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~GAAS/URI-1.60/URI/file.pm">Annotate this POD
</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>CPAN RT</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>New&nbsp;</td><td style="text-align:right"> 15</td></tr>
<tr><td>Open&nbsp;</td><td style="text-align:right"> 10</td></tr>
</table>
<a href="https://rt.cpan.org/Public/Dist/Display.html?Name=URI">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
  Module Version:  4.21 &nbsp;
<span class="noprint">
  <a href="/src/GAAS/URI-1.60/URI/file.pm">Source</a> &nbsp;
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#MAPPING_NOTES'>MAPPING NOTES</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION_VARIABLES'>CONFIGURATION VARIABLES</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>URI::file - URI that maps to local file names</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<pre class="sh_perl"> use URI::file;
 
 $u1 = URI-&#62;new(&#34;file:/foo/bar&#34;);
 $u2 = URI-&#62;new(&#34;foo/bar&#34;, &#34;file&#34;);
 
 $u3 = URI::file-&#62;new($path);
 $u4 = URI::file-&#62;new(&#34;c:\\windows\\&#34;, &#34;win32&#34;);
 
 $u1-&#62;file;
 $u1-&#62;file(&#34;mac&#34;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>The <code>URI::file</code> class supports <code>URI</code> objects belonging to the <i>file</i> URI scheme. This scheme allows us to map the conventional file names found on various computer systems to the URI name space. An old specification of the <i>file</i> URI scheme is found in RFC 1738. Some older background information is also in RFC 1630. There are no newer specifications as far as I know.</p>

<p>If you simply want to construct <i>file</i> URI objects from URI strings, use the normal <code>URI</code> constructor. If you want to construct <i>file</i> URI objects from the actual file names used by various systems, then use one of the following <code>URI::file</code> constructors:</p>

<dl>
<dt><a name='u'></a><a name="$u_=_URI::file-&#62;new(_$filename,_[$os]_)"
>$u = URI::file-&#62;new( $filename, [$os] )</a></dt>

<dd>
<p>Maps a file name to the <i>file:</i> URI name space, creates a URI object and returns it. The $filename is interpreted as belonging to the indicated operating system ($os), which defaults to the value of the $^O variable. The $filename can be either absolute or relative, and the corresponding type of URI object for $os is returned.</p>

<dt><a name='u'></a><a name="$u_=_URI::file-&#62;new_abs(_$filename,_[$os]_)"
>$u = URI::file-&#62;new_abs( $filename, [$os] )</a></dt>

<dd>
<p>Same as URI::file-&#62;new, but makes sure that the URI returned represents an absolute file name. If the $filename argument is relative, then the name is resolved relative to the current directory, i.e. this constructor is really the same as:</p>

<pre class="sh_perl">  URI::file-&#62;new($filename)-&#62;abs(URI::file-&#62;cwd);</pre>

<dt><a name='u'></a><a name="$u_=_URI::file-&#62;cwd"
>$u = URI::file-&#62;cwd</a></dt>

<dd>
<p>Returns a <i>file</i> URI that represents the current working directory. See <a href="/perldoc?Cwd" class="podlinkpod"
>Cwd</a>.</p>
</dd>
</dl>

<p>The following methods are supported for <i>file</i> URI (in addition to the common and generic methods described in <a href="/~gaas/URI-1.60/URI.pm" class="podlinkpod"
>URI</a>):</p>

<dl>
<dt><a name='u'></a><a name="$u-&#62;file(_[$os]_)"
>$u-&#62;file( [$os] )</a></dt>

<dd>
<p>Returns a file name. It maps from the URI name space to the file name space of the indicated operating system.</p>

<p>It might return <code>undef</code> if the name can not be represented in the indicated file system.</p>

<dt><a name='u'></a><a name="$u-&#62;dir(_[$os]_)"
>$u-&#62;dir( [$os] )</a></dt>

<dd>
<p>Some systems use a different form for names of directories than for plain files. Use this method if you know you want to use the name for a directory.</p>
</dd>
</dl>

<p>The <code>URI::file</code> module can be used to map generic file names to names suitable for the current system. As such, it can work as a nice replacement for the <code>File::Spec</code> module. For instance, the following code translates the UNIX-style file name <em>Foo/Bar.pm</em> to a name suitable for the local system:</p>

<pre class="sh_perl">  $file = URI::file-&#62;new(&#34;Foo/Bar.pm&#34;, &#34;unix&#34;)-&#62;file;
  die &#34;Can&#39;t map filename Foo/Bar.pm for $^O&#34; unless defined $file;
  open(FILE, $file) || die &#34;Can&#39;t open &#39;$file&#39;: $!&#34;;
  # do something with FILE</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MAPPING_NOTES"
>MAPPING NOTES <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Most computer systems today have hierarchically organized file systems. Mapping the names used in these systems to the generic URI syntax allows us to work with relative file URIs that behave as they should when resolved using the generic algorithm for URIs (specified in RFC 2396). Mapping a file name to the generic URI syntax involves mapping the path separator character to &#34;/&#34; and encoding any reserved characters that appear in the path segments of the file name. If path segments consisting of the strings &#34;.&#34; or &#34;..&#34; have a different meaning than what is specified for generic URIs, then these must be encoded as well.</p>

<p>If the file system has device, volume or drive specifications as the root of the name space, then it makes sense to map them to the authority field of the generic URI syntax. This makes sure that relative URIs can not be resolved &#34;above&#34; them, i.e. generally how relative file names work in those systems.</p>

<p>Another common use of the authority field is to encode the host on which this file name is valid. The host name &#34;localhost&#34; is special and generally has the same meaning as a missing or empty authority field. This use is in conflict with using it as a device specification, but can often be resolved for device specifications having characters not legal in plain host names.</p>

<p>File name to URI mapping in normally not one-to-one. There are usually many URIs that map to any given file name. For instance, an authority of &#34;localhost&#34; maps the same as a URI with a missing or empty authority.</p>

<p>Example 1: The Mac classic (Mac OS 9 and earlier) used &#34;:&#34; as path separator, but not in the same way as a generic URI. &#34;:foo&#34; was a relative name. &#34;foo:bar&#34; was an absolute name. Also, path segments could contain the &#34;/&#34; character as well as the literal &#34;.&#34; or &#34;..&#34;. So the mapping looks like this:</p>

<pre class="sh_perl">  Mac classic           URI
  ----------            -------------------
  :foo:bar     &#60;==&#62;     foo/bar
  :            &#60;==&#62;     ./
  ::foo:bar    &#60;==&#62;     ../foo/bar
  :::          &#60;==&#62;     ../../
  foo:bar      &#60;==&#62;     file:/foo/bar
  foo:bar:     &#60;==&#62;     file:/foo/bar/
  ..           &#60;==&#62;     %2E%2E
  &#60;undef&#62;      &#60;==      /
  foo/         &#60;==      file:/foo%2F
  ./foo.txt    &#60;==      file:/.%2Ffoo.txt</pre>

<p>Note that if you want a relative URL, you *must* begin the path with a :. Any path that begins with [^:] is treated as absolute.</p>

<p>Example 2: The UNIX file system is easy to map, as it uses the same path separator as URIs, has a single root, and segments of &#34;.&#34; and &#34;..&#34; have the same meaning. URIs that have the character &#34;\0&#34; or &#34;/&#34; as part of any path segment can not be turned into valid UNIX file names.</p>

<pre class="sh_perl">  UNIX                  URI
  ----------            ------------------
  foo/bar      &#60;==&#62;     foo/bar
  /foo/bar     &#60;==&#62;     file:/foo/bar
  /foo/bar     &#60;==      <a href="file://localhost/foo/bar" class="podlinkurl"
>file://localhost/foo/bar</a>
  file:         ==&#62;     ./file:
  &#60;undef&#62;      &#60;==      file:/fo%00/bar
  /            &#60;==&#62;     file:/</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION_VARIABLES"
>CONFIGURATION VARIABLES <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>The following configuration variables influence how the class and its methods behave:</p>

<dl>
<dt><a name='URI'></a><a name="%URI::file::OS_CLASS"
>%URI::file::OS_CLASS</a></dt>

<dd>
<p>This hash maps OS identifiers to implementation classes. You might want to add or modify this if you want to plug in your own file handler class. Normally the keys should match the $^O values in use.</p>

<p>If there is no mapping then the &#34;Unix&#34; implementation is used.</p>

<dt><a name='URI'></a><a name="$URI::file::DEFAULT_AUTHORITY"
>$URI::file::DEFAULT_AUTHORITY</a></dt>

<dd>
<p>This determine what &#34;authority&#34; string to include in absolute file URIs. It defaults to &#34;&#34;. If you prefer verbose URIs you might set it to be &#34;localhost&#34;.</p>

<p>Setting this value to <code>undef</code> force behaviour compatible to URI v1.31 and earlier. In this mode host names in UNC paths and drive letters are mapped to the authority component on Windows, while we produce authority-less URIs on Unix.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p><a href="/~gaas/URI-1.60/URI.pm" class="podlinkpod"
>URI</a>, <a href="/perldoc?File%3A%3ASpec" class="podlinkpod"
>File::Spec</a>, <a href="/perldoc?perlport" class="podlinkpod"
>perlport</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Copyright 1995-1998,2004 Gisle Aas.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78269 Uploads, 24722 Distributions
105999 Modules, 9649 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Fri Apr 27 17:05:40 2012 GMT (0.32103705406189) @cpansearch1 -->
 </body>
</html>
