<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
 <head>
  <link rel="stylesheet" href="http://st.pimg.net/tucs/style.css" type="text/css" />
<style>
.styleswitch {
  text-align: right;
}
</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.cookie.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_main.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/sh_perl.min.js"></script>
<script type="text/javascript" src="http://st.pimg.net/tucs/js/jquery.styleswitch.js"></script>

<link rel="stylesheet" href="http://st.pimg.net/tucs/print.css" type="text/css" media="print" />
  <link rel="alternate" type="application/rss+xml" title="RSS 1.0" href="http://search.cpan.org/uploads.rdf" />
  <link rel="search" href="http://st.pimg.net/tucs/opensearch.xml" type="application/opensearchdescription+xml" title="SearchCPAN" />
  <title>Moose::Exporter - search.cpan.org</title>
 <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3528438-1']);
    _gaq.push(["_setCustomVar",2,"Distribution","Moose",3]);
    _gaq.push(["_setCustomVar",5,"Release","Moose-2.0403",3]);
    _gaq.push(["_setCustomVar",3,"Module","Moose::Exporter",3]);
    _gaq.push(["_setCustomVar",1,"Author","DOY",3]);
    _gaq.push(['_trackPageview']);
  </script>
 </head>
 <body id="cpansearch">
<center><div class="logo"><a href="/"><img src="http://st.pimg.net/tucs/img/cpan_banner.png" alt="CPAN"></a></div></center>
<div class="menubar">
 <a href="/">Home</a>
&middot; <a href="/author/">Authors</a>
&middot; <a href="/recent">Recent</a>
&middot; <a href="http://log.perl.org/cpansearch/">News</a>
&middot; <a href="/mirror">Mirrors</a>
&middot; <a href="/faq.html">FAQ</a>
&middot; <a href="/feedback">Feedback</a>
</div>
<form method="get" action="/search" name="f" class="searchbox">
<input type="text" name="query" value="" size="35">
<br>in <select name="mode">
 <option value="all">All</option>
 <option value="module" >Modules</option>
 <option value="dist" >Distributions</option>
 <option value="author" >Authors</option>
</select>&nbsp;<input type="submit" value="CPAN Search">
</form>


 <a name="_top"></a>
  <div class=path>
<div id=permalink class="noprint"><a href="/perldoc?Moose::Exporter">permalink</a></div>
  <a href="/~doy/">Jesse Luehrs</a> &gt;
  <a href="/~doy/Moose-2.0403/">Moose-2.0403</a> &gt;
  Moose::Exporter
 </div>

<div class="noprint" style="float:right;align:left;width:19ex">
<a href="http://hexten.net/cpan-faces/"><img src="http://www.gravatar.com/avatar/88766de7a058697d3d0335b8d384fd2a?r=g&s=80&d=http%3A%2F%2Fst.pimg.net%2Ftucs%2Fimg%2Fwho.png" width=80 height=80 
style="float:right"
/></a>
<br style="clear:both"/>
<p style="text-align:right">Download:<br/> <a href="/CPAN/authors/id/D/DO/DOY/Moose-2.0403.tar.gz">Moose-2.0403.tar.gz</a></p>
<p style="text-align:right"><a href="http://deps.cpantesters.org/?module=Moose%3A%3AExporter;perl=latest">Dependencies</a></p>
<p style="text-align:right"><a href="http://www.annocpan.org/~DOY/Moose-2.0403/lib/Moose/Exporter.pm">Annotate this POD
</a></p>

<div style="float:right">
<div class=box style='width:150px'>
<h1 class=t5>CPAN RT</h1>
<div style="margin:2px">
<table style="margin-left:auto;margin-right:auto">
<tr><td>New&nbsp;</td><td style="text-align:right"> 13</td></tr>
<tr><td>Open&nbsp;</td><td style="text-align:right"> 27</td></tr>
<tr><td>Stalled&nbsp;</td><td style="text-align:right"> 4</td></tr>
</table>
<a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Moose">View/Report Bugs</a><br/>
</div>
</div>

</div>
</div>
  Module Version:  2.0403 &nbsp;
<span class="noprint">
  <a href="/src/DOY/Moose-2.0403/lib/Moose/Exporter.pm">Source</a> &nbsp;
  Latest&nbsp;Release:&nbsp;<a href="/~doy/Moose/lib/Moose/Exporter.pm">Moose-2.0502-TRIAL</a>
</span>
<a name="___top"></a>
<div class=pod>
<div class=toc>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#IMPORTING_AND_init_meta'>IMPORTING AND init_meta</a>
  <li class='indexItem indexItem1'><a href='#METACLASS_TRAITS'>METACLASS TRAITS</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Moose::Exporter - make an import() and unimport() just like Moose.pm</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>version 2.0403</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<pre class="sh_perl">  package MyApp::Moose;

  use Moose ();
  use Moose::Exporter;

  Moose::Exporter-&#62;setup_import_methods(
      with_meta =&#62; [ &#39;has_rw&#39;, &#39;sugar2&#39; ],
      as_is     =&#62; [ &#39;sugar3&#39;, \&#38;Some::Random::thing ],
      also      =&#62; &#39;Moose&#39;,
  );

  sub has_rw {
      my ( $meta, $name, %options ) = @_;
      $meta-&#62;add_attribute(
          $name,
          is =&#62; &#39;rw&#39;,
          %options,
      );
  }

  # then later ...
  package MyApp::User;

  use MyApp::Moose;

  has &#39;name&#39;;
  has_rw &#39;size&#39;;
  thing;

  no MyApp::Moose;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module encapsulates the exporting of sugar functions in a <code>Moose.pm</code>-like manner. It does this by building custom <code>import</code>, <code>unimport</code>, and <code>init_meta</code> methods for your module, based on a spec you provide.</p>

<p>It also lets you &#34;stack&#34; Moose-alike modules so you can export Moose&#39;s sugar as well as your own, along with sugar from any random <code>MooseX</code> module, as long as they all use <code>Moose::Exporter</code>. This feature exists to let you bundle a set of MooseX modules into a policy module that developers can use directly instead of using Moose itself.</p>

<p>To simplify writing exporter modules, <code>Moose::Exporter</code> also imports <code>strict</code> and <code>warnings</code> into your exporter module, as well as into modules that use it.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This module provides two public methods:</p>

<dl>
<dt><a name='Moose'></a><a name="Moose::Exporter-&#62;setup_import_methods(...)"
><b>Moose::Exporter-&#62;setup_import_methods(...)</b></a></dt>

<dd>
<p>When you call this method, <code>Moose::Exporter</code> builds custom <code>import</code>, <code>unimport</code>, and <code>init_meta</code> methods for your module. The <code>import</code> method will export the functions you specify, and can also re-export functions exported by some other module (like <code>Moose.pm</code>).</p>

<p>The <code>unimport</code> method cleans the caller&#39;s namespace of all the exported functions. This includes any functions you re-export from other packages. However, if the consumer of your package also imports those functions from the original package, they will <i>not</i> be cleaned.</p>

<p>If you pass any parameters for <a href="/~doy/Moose-2.0403/lib/Moose/Util/MetaRole.pm" class="podlinkpod"
>Moose::Util::MetaRole</a>, this method will generate an <code>init_meta</code> for you as well (see below for details). This <code>init_meta</code> will call <code>Moose::Util::MetaRole::apply_metaroles</code> and <code>Moose::Util::MetaRole::apply_base_class_roles</code> as needed.</p>

<p>Note that if any of these methods already exist, they will not be overridden, you will have to use <code>build_import_methods</code> to get the coderef that would be installed.</p>

<p>This method accepts the following parameters:</p>

<ul>
<li>with_meta =&#62; [ ... ]
<p>This list of function <i>names only</i> will be wrapped and then exported. The wrapper will pass the metaclass object for the caller as its first argument.</p>

<p>Many sugar functions will need to use this metaclass object to do something to the calling package.</p>
</li>

<li>as_is =&#62; [ ... ]
<p>This list of function names or sub references will be exported as-is. You can identify a subroutine by reference, which is handy to re-export some other module&#39;s functions directly by reference (<code>\&#38;Some::Package::function</code>).</p>

<p>If you do export some other package&#39;s function, this function will never be removed by the <code>unimport</code> method. The reason for this is we cannot know if the caller <i>also</i> explicitly imported the sub themselves, and therefore wants to keep it.</p>
</li>

<li>trait_aliases =&#62; [ ... ]
<p>This is a list of package names which should have shortened aliases exported, similar to the functionality of <a href="/perldoc?aliased" class="podlinkpod"
>aliased</a>. Each element in the list can be either a package name, in which case the export will be named as the last namespace component of the package, or an arrayref, whose first element is the package to alias to, and second element is the alias to export.</p>
</li>

<li>also =&#62; $name or \@names
<p>This is a list of modules which contain functions that the caller wants to export. These modules must also use <code>Moose::Exporter</code>. The most common use case will be to export the functions from <code>Moose.pm</code>. Functions specified by <code>with_meta</code> or <code>as_is</code> take precedence over functions exported by modules specified by <code>also</code>, so that a module can selectively override functions exported by another module.</p>

<p><code>Moose::Exporter</code> also makes sure all these functions get removed when <code>unimport</code> is called.</p>
</li>

<li>meta_lookup =&#62; sub { ... }
<p>This is a function which will be called to provide the metaclass to be operated upon by the exporter. This is an advanced feature intended for use by package generator modules in the vein of <a href="/perldoc?MooseX%3A%3ARole%3A%3AParameterized" class="podlinkpod"
>MooseX::Role::Parameterized</a> in order to simplify reusing sugar from other modules that use <code>Moose::Exporter</code>. This function is used, for example, to select the metaclass to bind to functions that are exported using the <code>with_meta</code> option.</p>

<p>This function will receive one parameter: the class name into which the sugar is being exported. The default implementation is:</p>

<pre class="sh_perl">    sub { Class::MOP::class_of(shift) }</pre>

<p>Accordingly, this function is expected to return a metaclass.</p>
</li>
</ul>

<p>You can also provide parameters for <code>Moose::Util::MetaRole::apply_metaroles</code> and <code>Moose::Util::MetaRole::base_class_roles</code>. Specifically, valid parameters are &#34;class_metaroles&#34;, &#34;role_metaroles&#34;, and &#34;base_class_roles&#34;.</p>

<dt><a name='Moose'></a><a name="Moose::Exporter-&#62;build_import_methods(...)"
><b>Moose::Exporter-&#62;build_import_methods(...)</b></a></dt>

<dd>
<p>Returns two or three code refs, one for <code>import</code>, one for <code>unimport</code>, and optionally one for <code>init_meta</code>, if the appropriate options are passed in.</p>

<p>Accepts the additional <code>install</code> option, which accepts an arrayref of method names to install into your exporting package. The valid options are <code>import</code>, <code>unimport</code>, and <code>init_meta</code>. Calling <code>setup_import_methods</code> is equivalent to calling <code>build_import_methods</code> with <code>install =&#62; [qw(import unimport init_meta)]</code> except that it doesn&#39;t also return the methods.</p>

<p>The <code>import</code> method is built using <a href="/perldoc?Sub%3A%3AExporter" class="podlinkpod"
>Sub::Exporter</a>. This means that it can take a hashref of the form <code>{ into =&#62; $package }</code> to specify the package it operates on.</p>

<p>Used by <code>setup_import_methods</code>.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="IMPORTING_AND_init_meta"
>IMPORTING AND init_meta <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>If you want to set an alternative base object class or metaclass class, see above for details on how this module can call <a href="/~doy/Moose-2.0403/lib/Moose/Util/MetaRole.pm" class="podlinkpod"
>Moose::Util::MetaRole</a> for you.</p>

<p>If you want to do something that is not supported by this module, simply define an <code>init_meta</code> method in your class. The <code>import</code> method that <code>Moose::Exporter</code> generates for you will call this method (if it exists). It will always pass the caller to this method via the <code>for_class</code> parameter.</p>

<p>Most of the time, your <code>init_meta</code> method will probably just call <code>Moose-&#62;init_meta</code> to do the real work:</p>

<pre class="sh_perl">  sub init_meta {
      shift; # our class name
      return Moose-&#62;init_meta( @_, metaclass =&#62; &#39;My::Metaclass&#39; );
  }</pre>

<p>Keep in mind that <code>build_import_methods</code> will return an <code>init_meta</code> method for you, which you can also call from within your custom <code>init_meta</code>:</p>

<pre class="sh_perl">  my ( $import, $unimport, $init_meta )
      = Moose::Exporter-&#62;build_import_methods(...);

  sub import {
      my $class = shift;

      ...

      # You can either pass an explicit package to import into ...
      $class-&#62;$import( { into =&#62; scalar(caller) }, ... );

      ...;
  }

  # ... or you can use &#39;goto&#39; to provide the correct caller info to the
  # generated method
  sub unimport { goto &#38;$unimport }

  sub init_meta {
      my $class = shift;

      ...

      $class-&#62;$init_meta(...);

      ...
  }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METACLASS_TRAITS"
>METACLASS TRAITS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>The <code>import</code> method generated by <code>Moose::Exporter</code> will allow the user of your module to specify metaclass traits in a <code>-traits</code> parameter passed as part of the import:</p>

<pre class="sh_perl">  use Moose -traits =&#62; &#39;My::Meta::Trait&#39;;

  use Moose -traits =&#62; [ &#39;My::Meta::Trait&#39;, &#39;My::Other::Trait&#39; ];</pre>

<p>These traits will be applied to the caller&#39;s metaclass instance. Providing traits for an exporting class that does not create a metaclass for the caller is an error.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>See <a href="/~doy/Moose-2.0403/lib/Moose.pm#BUGS" class="podlinkpod"
>&#34;BUGS&#34; in Moose</a> for details on reporting bugs.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>Moose is maintained by the Moose Cabal, along with the help of many contributors. See <a href="/~doy/Moose-2.0403/lib/Moose.pm#CABAL" class="podlinkpod"
>&#34;CABAL&#34; in Moose</a> and <a href="/~doy/Moose-2.0403/lib/Moose.pm#CONTRIBUTORS" class="podlinkpod"
>&#34;CONTRIBUTORS&#34; in Moose</a> for details.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE <img alt='^' src='http://st.pimg.net/tucs/img/up.gif'></a></h1>

<p>This software is copyright (c) 2012 by Infinity Interactive, Inc..</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>

</div>
<!-- This should probably be put in the <div class="footer"></div> -->
<script type="text/javascript">
    $(document).ready(function(){
        var startingStyle = $.cookie('css') ? $.cookie('css') : 'http://st.pimg.net/tucs/css/sh_none.min.css';
        $.fn.styleSwitch(startingStyle);
        $("#styleswitch").val(startingStyle);
        sh_highlightDocument();
        $("#styleswitch").bind(($.browser.msie ? "click" : "change"), function() {
            $.fn.styleSwitch($(this).val());
        });
    });
</script>
<div class="styleswitch">
    syntax highlighting:
    <select id="styleswitch">
        <option value="http://st.pimg.net/tucs/css/sh_none.min.css">no syntax highlighting</option>
        <option value="http://st.pimg.net/tucs/css/sh_acid.min.css">acid</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-dark.min.css">berries-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_berries-light.min.css">berries-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_bipolar.min.css">bipolar</option>
        <option value="http://st.pimg.net/tucs/css/sh_blacknblue.min.css">blacknblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_bright.min.css">bright</option>
        <option value="http://st.pimg.net/tucs/css/sh_contrast.min.css">contrast</option>
        <option value="http://st.pimg.net/tucs/css/sh_cpan.min.css">cpan</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkblue.min.css">darkblue</option>
        <option value="http://st.pimg.net/tucs/css/sh_darkness.min.css">darkness</option>
        <option value="http://st.pimg.net/tucs/css/sh_desert.min.css">desert</option>
        <option value="http://st.pimg.net/tucs/css/sh_dull.min.css">dull</option>
        <option value="http://st.pimg.net/tucs/css/sh_easter.min.css">easter</option>
        <option value="http://st.pimg.net/tucs/css/sh_emacs.min.css">emacs</option>
        <option value="http://st.pimg.net/tucs/css/sh_golden.min.css">golden</option>
        <option value="http://st.pimg.net/tucs/css/sh_greenlcd.min.css">greenlcd</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-anjuta.min.css">ide-anjuta</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-codewarrior.min.css">ide-codewarrior</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-devcpp.min.css">ide-devcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-eclipse.min.css">ide-eclipse</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-kdev.min.css">ide-kdev</option>
        <option value="http://st.pimg.net/tucs/css/sh_ide-msvcpp.min.css">ide-msvcpp</option>
        <option value="http://st.pimg.net/tucs/css/sh_kwrite.min.css">kwrite</option>
        <option value="http://st.pimg.net/tucs/css/sh_matlab.min.css">matlab</option>
        <option value="http://st.pimg.net/tucs/css/sh_navy.min.css">navy</option>
        <option value="http://st.pimg.net/tucs/css/sh_nedit.min.css">nedit</option>
        <option value="http://st.pimg.net/tucs/css/sh_neon.min.css">neon</option>
        <option value="http://st.pimg.net/tucs/css/sh_night.min.css">night</option>
        <option value="http://st.pimg.net/tucs/css/sh_pablo.min.css">pablo</option>
        <option value="http://st.pimg.net/tucs/css/sh_peachpuff.min.css">peachpuff</option>
        <option value="http://st.pimg.net/tucs/css/sh_print.min.css">print</option>
        <option value="http://st.pimg.net/tucs/css/sh_rand01.min.css">rand01</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-dark.min.css">solarized-dark</option>
	<option value="http://st.pimg.net/tucs/css/sh_solarized-light.min.css">solarized-light</option>
        <option value="http://st.pimg.net/tucs/css/sh_style.min.css">style</option>
        <option value="http://st.pimg.net/tucs/css/sh_the.min.css">the</option>
        <option value="http://st.pimg.net/tucs/css/sh_typical.min.css">typical</option>
        <option value="http://st.pimg.net/tucs/css/sh_vampire.min.css">vampire</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim-dark.min.css">vim-dark</option>
        <option value="http://st.pimg.net/tucs/css/sh_vim.min.css">vim</option>
        <option value="http://st.pimg.net/tucs/css/sh_whatis.min.css">whatis</option>
        <option value="http://st.pimg.net/tucs/css/sh_whitengrey.min.css">whitengrey</option>
        <option value="http://st.pimg.net/tucs/css/sh_zellner.min.css">zellner</option>
    </select>
</div>



<div class="footer"><div class="cpanstats">78269 Uploads, 24724 Distributions
106002 Modules, 9649 Uploaders
</div>
hosted by <a href="http://www.yellowbot.com">YellowBot</a><br/>
<a href="http://www.yellowbot.com"><img alt="do. tag. write. share." src="http://st.pimg.net/tucs/img/yellowbot_logo.gif"></a>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript" src="http://ipv4.v6test.develooper.com/js/v1/v6test.js"></script>

<script type="text/javascript">
   // v6.target = '';
   if (!v6.target) { v6.only_once = true }
   v6.site = '7A0D89A6-2B82-11DF-B9DA-F61CBD13F020';
   v6.api_server = 'http://ipv4.v6test.develooper.com';
   try {
     v6.test();
   } catch(err) {}
</script>
<script type="text/javascript">
  $(document).ready(function(){
    $("a[href^=http:]").click(function(){
      var href = $(this).attr('href');
      var m = href.match('\/\/([^\/:]+)');
      _gaq.push(['_trackEvent','External',m[1],'Module']);
    });
    $("a[href^=/CPAN/]").click(function(){
      var href = $(this).attr('href');
      _gaq.push(['_trackEvent','Download',href,'Module']);
    });
  });
</script>
<!-- Fri Apr 27 23:09:47 2012 GMT (0.132504940032959) @cpansearch1 -->
 </body>
</html>
